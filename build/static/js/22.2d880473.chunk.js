(this.webpackJsonptattle=this.webpackJsonptattle||[]).push([[22],{103:function(e,t,n){"use strict";var a=n(3),r=n(8),o=n(2),l=(n(5),n(22)),c=n(28),i=n(18),u=o.forwardRef((function(e,t){var n=e.children,c=e.classes,u=e.className,s=e.color,d=void 0===s?"inherit":s,m=e.component,f=void 0===m?"svg":m,h=e.fontSize,b=void 0===h?"default":h,p=e.htmlColor,v=e.titleAccess,E=e.viewBox,O=void 0===E?"0 0 24 24":E,j=Object(r.a)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return o.createElement(f,Object(a.a)({className:Object(l.a)(c.root,u,"inherit"!==d&&c["color".concat(Object(i.a)(d))],"default"!==b&&c["fontSize".concat(Object(i.a)(b))]),focusable:"false",viewBox:O,color:p,"aria-hidden":!v||void 0,role:v?"img":void 0,ref:t},j),n,v?o.createElement("title",null,v):null)}));u.muiName="SvgIcon",t.a=Object(c.a)((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(u)},105:function(e,t,n){"use strict";n.r(t);var a=n(103);n.d(t,"default",(function(){return a.a}))},107:function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},n.apply(this,arguments)}e.exports=n},184:function(e,t,n){"use strict";var a=n(96);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(2)),o=(0,a(n(98)).default)(r.default.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");t.default=o},297:function(e,t,n){},473:function(e,t,n){"use strict";n.r(t);var a=n(26),r=n(2),o=n.n(r),l=n(10),c=n(35),i=n(14),u=n(42),s=n(92),d=n(184),m=n.n(d),f=(n(297),o.a.lazy((function(){return n.e(31).then(n.bind(null,299))}))),h=o.a.lazy((function(){return n.e(36).then(n.t.bind(null,300,7))})),b=o.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(4),n.e(25)]).then(n.bind(null,142))})),p=o.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(7),n.e(16),n.e(30)]).then(n.bind(null,302))})),v=o.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(20),n.e(27)]).then(n.bind(null,462))})),E=o.a.lazy((function(){return n.e(8).then(n.bind(null,189))})),O=o.a.lazy((function(){return Promise.all([n.e(2),n.e(15)]).then(n.bind(null,230))})),j=o.a.lazy((function(){return Promise.all([n.e(1),n.e(3),n.e(32)]).then(n.bind(null,180))}));t.default=function(e){var t=e.rooms,n=e.setIsRoomExist,d=e.isRoomExist,y=Object(l.g)(),g=Object(l.h)().roomId,S=Object(c.b)(),z=Object(a.a)(S,1)[0].user,_=Object(r.useState)(""),w=Object(a.a)(_,2),C=w[0],k=w[1],N=Object(r.useState)(!1),x=Object(a.a)(N,2),M=x[0],P=x[1],L=Object(r.useState)(!1),R=Object(a.a)(L,2),A=R[0],I=R[1],D=Object(r.useState)(!1),F=Object(a.a)(D,2),T=F[0],U=F[1],B=Object(r.useState)(!1),J=Object(a.a)(B,2),V=J[0],q=J[1],G=Object(r.useState)(null),H=Object(a.a)(G,2),K=H[0],Q=H[1],W=Object(r.useState)(null),X=Object(a.a)(W,2),Y=X[0],Z=X[1],$=Object(r.useState)(!1),ee=Object(a.a)($,2),te=ee[0],ne=ee[1],ae=function(e){return function(t){return(t.data.name+"").toLowerCase().includes(e.toLowerCase())||!e}};Object(r.useEffect)((function(){C&&(o.a.createElement(o.a.Fragment,null,t.filter(ae(C)).map((function(e){return o.a.createElement("p",{key:e.id},e.name)}))).props.children.length>0?ne(!0):ne(!1));if(t){var e=t.findIndex((function(e,t){return e.id===g}));e>=0?n(e):-1===e&&(n(e),y.push("/"))}}),[C,t,g,y,n]),Object(r.useEffect)((function(){t&&(t.length>0?(I(!1),P(!0)):0===t.length&&-1===d&&(I(!0),P(!0)))}),[d,t]),Object(r.useEffect)((function(){re()}),[Y]);var re=function(){i.b.collection("users").onSnapshot((function(e){return Z(e.docs.map((function(e){return e.data()})))}))},oe=function(){Q(null),U(!0)},le=function(e){Q(e.currentTarget)},ce=[{title:"Profile",onClick:function(){return oe()},id:1e5*Math.random()},{title:"Archived",onClick:function(){Object(u.a)("Archive is not yet available!","archive","top-center")},id:1e5*Math.random()},{title:"Starred",onClick:function(){Object(u.a)("Starred is not yet available!","starred","top-center")},id:1e5*Math.random()},{title:"Settings",onClick:function(){Object(u.a)("Settings is not yet available!","settings","top-center")},id:1e5*Math.random()},{title:"Logout",onClick:function(){!0===z.isAnonymous?i.a.currentUser.delete().then((function(){y.push("/")})).catch((function(e){console.log("error deleting anonymous user",e)})):i.a.signOut()}}];return o.a.createElement(o.a.Suspense,{fallback:o.a.createElement("p",null,"Loading")},o.a.createElement("div",{className:"sidebar"},o.a.createElement("div",{className:"sidebar__header"},o.a.createElement(f,{id:"UserProfile",photoURL:z.photoURL,onClick:function(){return oe()}}),o.a.createElement(p,{drawerLeft:T,setDrawerLeft:U,db:i.b,auth:i.a,storage:i.e}),o.a.createElement("div",{className:"sidebar__headerRight"},o.a.createElement(v,{drawer2:V,setDrawer2:q,userData:Y,db:i.b,auth:i.a,storage:i.e}),o.a.createElement(j,{icon:o.a.createElement(h,{style:{color:"#de5751"}}),name:"New Chat",onClick:function(){return Q(null),void q(!0)}}),o.a.createElement(j,{name:"Menu",icon:o.a.createElement(m.a,{style:{color:"#de5751"}}),onClick:le}),o.a.createElement(b,{menuLists:ce,menu:K,handleMenuOpen:le,handleMenuClose:function(){Q(null)}}))),o.a.createElement(E,{search:C,setSearch:k,placeholder:"Search or start new chat"}),o.a.createElement("div",{className:"sidebar__chats"},M?o.a.createElement(o.a.Fragment,null,C?o.a.createElement(o.a.Fragment,null,te?o.a.createElement("div",null,t.filter(ae(C)).map((function(e){return o.a.createElement(O,{key:e.id,id:e.id,name:e.data.name})}))):o.a.createElement("div",{className:"sidebar__chatsContainer_empty"},o.a.createElement("span",null,"No chat room found"))):o.a.createElement(o.a.Fragment,null,t.map((function(e){return o.a.createElement(O,{key:e.id,id:e.id,name:e.data.name,owner:e.data.roomOwner})})))):o.a.createElement("div",{className:"sidebar__chatsContainer_loading"},o.a.createElement("div",null,o.a.createElement(s.a,null))),A&&M?o.a.createElement("div",{className:"sidebar__chatsContainer_empty"},o.a.createElement("span",null,"No chats")):null)))}},96:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},98:function(e,t,n){"use strict";var a=n(96);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=o.default.memo(o.default.forwardRef((function(t,n){return o.default.createElement(l.default,(0,r.default)({ref:n},t),e)})));0;return n.muiName=l.default.muiName,n};var r=a(n(107)),o=a(n(2)),l=a(n(105))}}]);
//# sourceMappingURL=22.2d880473.chunk.js.map