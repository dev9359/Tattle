(this.webpackJsonptattle=this.webpackJsonptattle||[]).push([[15],{145:function(e,t,a){"use strict";var n=a(96);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(2)),r=(0,n(a(98)).default)(c.default.createElement(c.default.Fragment,null,c.default.createElement("circle",{cx:"12",cy:"12",r:"3.2"}),c.default.createElement("path",{d:"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"})),"PhotoCamera");t.default=r},163:function(e,t){},164:function(e,t){},166:function(e,t){},167:function(e,t){},170:function(e,t){},171:function(e,t){},172:function(e,t){},173:function(e,t){},174:function(e,t){},177:function(e,t){},178:function(e,t){},179:function(e,t){},181:function(e,t,a){"use strict";var n=a(3),c=a(8),r=a(2),l=a.n(r),o=(a(5),a(22)),i=a(28),u=a(103);var s=function(e,t){var a=function(t,a){return l.a.createElement(u.a,Object(n.a)({ref:a},t),e)};return a.muiName=u.a.muiName,l.a.memo(l.a.forwardRef(a))}(r.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));var d=r.forwardRef((function(e,t){var a=e.alt,l=e.children,i=e.classes,u=e.className,d=e.component,f=void 0===d?"div":d,m=e.imgProps,v=e.sizes,p=e.src,h=e.srcSet,b=e.variant,E=void 0===b?"circle":b,g=Object(c.a)(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),y=null,j=function(e){var t=e.src,a=e.srcSet,n=r.useState(!1),c=n[0],l=n[1];return r.useEffect((function(){if(t||a){l(!1);var e=!0,n=new Image;return n.src=t,n.srcSet=a,n.onload=function(){e&&l("loaded")},n.onerror=function(){e&&l("error")},function(){e=!1}}}),[t,a]),c}({src:p,srcSet:h}),O=p||h,S=O&&"error"!==j;return y=S?r.createElement("img",Object(n.a)({alt:a,src:p,srcSet:h,sizes:v,className:i.img},m)):null!=l?l:O&&a?a[0]:r.createElement(s,{className:i.fallback}),r.createElement(f,Object(n.a)({className:Object(o.a)(i.root,i.system,i[E],u,!S&&i.colorDefault),ref:t},g),y)}));t.a=Object(i.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(d)},307:function(e,t,a){"use strict";a.r(t);var n=a(26),c=a(2),r=a.n(c),l=a(50),o=a(181),i=a(145),u=a.n(i),s=a(412),d=a.n(s),f=a(14),m=(a(308),a(162)),v=a.n(m),p=a(35);t.default=function(e){var t,a,i,s,m,h=e.id,b=e.name,E=e.data,g=Object(c.useState)([]),y=Object(n.a)(g,2),j=y[0],O=y[1],S=Object(p.b)(),N=Object(n.a)(S,1)[0].user,_=Object(c.useState)(null),k=Object(n.a)(_,2),w=k[0],z=k[1];Object(c.useEffect)((function(){C()})),Object(c.useEffect)((function(){var e;if(null===(e=E.participants)||void 0===e?void 0:e.includes(N.uid)){var t,a=null===(t=E.participants)||void 0===t?void 0:t.splice(E.participants.indexOf(N.uid,1));f.b.collection("users").doc(a[0]).get().then((function(e){z(e.data())}))}}),[]);var C=function(){h&&f.b.collection("rooms").doc(h).collection("messages").orderBy("timestamp","desc").onSnapshot((function(e){return O(e.docs.map((function(e){return e.data()})))}))};return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement("p",null,"Loading")},r.a.createElement(l.b,{to:"/rooms/".concat(h),className:"sidebarChat__link"},r.a.createElement("div",{className:"sidebarChat"},r.a.createElement(o.a,{src:w?null===w||void 0===w?void 0:w.photoURL:null}),r.a.createElement("div",{className:"sidebarChat__info"},r.a.createElement("h2",null,w?w.name:b),(null===(t=j[0])||void 0===t?void 0:t.photo)?r.a.createElement("div",{className:"sideChat__photo"},r.a.createElement(u.a,null)," ",r.a.createElement("span",null,"Photo")):null,(null===(a=j[0])||void 0===a?void 0:a.video)?r.a.createElement("div",{className:"sideChat__photo"},r.a.createElement(d.a,null)," ",r.a.createElement("span",null,"Video")):null,r.a.createElement("p",null,(null===(i=j[0])||void 0===i?void 0:i.message)?function(e){var t=v.a.AES.decrypt(e,"my-secret-key@123").toString(v.a.enc.Utf8);return e?t:e}(null===(s=j[0])||void 0===s?void 0:s.message):""),r.a.createElement("p",null,null===(m=j[0])||void 0===m?void 0:m.url)))))}},308:function(e,t,a){},412:function(e,t,a){"use strict";var n=a(96);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(2)),r=(0,n(a(98)).default)(c.default.createElement("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"}),"Videocam");t.default=r}}]);
//# sourceMappingURL=15.bfde16db.chunk.js.map