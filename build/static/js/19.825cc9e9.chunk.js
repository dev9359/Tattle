(this.webpackJsonptattle=this.webpackJsonptattle||[]).push([[19],{103:function(e,t,a){"use strict";var o=a(3),n=a(8),r=a(2),c=(a(5),a(22)),l=a(28),i=a(18),s=r.forwardRef((function(e,t){var a=e.children,l=e.classes,s=e.className,u=e.color,d=void 0===u?"inherit":u,m=e.component,f=void 0===m?"svg":m,h=e.fontSize,p=void 0===h?"default":h,b=e.htmlColor,v=e.titleAccess,g=e.viewBox,y=void 0===g?"0 0 24 24":g,O=Object(n.a)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return r.createElement(f,Object(o.a)({className:Object(c.a)(l.root,s,"inherit"!==d&&l["color".concat(Object(i.a)(d))],"default"!==p&&l["fontSize".concat(Object(i.a)(p))]),focusable:"false",viewBox:y,color:b,"aria-hidden":!v||void 0,role:v?"img":void 0,ref:t},O),a,v?r.createElement("title",null,v):null)}));s.muiName="SvgIcon",t.a=Object(l.a)((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(s)},105:function(e,t,a){"use strict";a.r(t);var o=a(103);a.d(t,"default",(function(){return o.a}))},107:function(e,t){function a(){return e.exports=a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e},a.apply(this,arguments)}e.exports=a},143:function(e,t,a){"use strict";var o=a(3),n=a(8),r=a(2),c=(a(5),a(22)),l=a(28),i=a(27),s=a(484),u=a(18),d=r.forwardRef((function(e,t){var a=e.edge,l=void 0!==a&&a,i=e.children,d=e.classes,m=e.className,f=e.color,h=void 0===f?"default":f,p=e.disabled,b=void 0!==p&&p,v=e.disableFocusRipple,g=void 0!==v&&v,y=e.size,O=void 0===y?"medium":y,j=Object(n.a)(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return r.createElement(s.a,Object(o.a)({className:Object(c.a)(d.root,m,"default"!==h&&d["color".concat(Object(u.a)(h))],b&&d.disabled,"small"===O&&d["size".concat(Object(u.a)(O))],{start:d.edgeStart,end:d.edgeEnd}[l]),centerRipple:!0,focusRipple:!g,disabled:b,ref:t},j),r.createElement("span",{className:d.label},i))}));t.a=Object(l.a)((function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:Object(i.b)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(i.b)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(i.b)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(d)},144:function(e,t,a){"use strict";var o=a(96);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(a(2)),r=(0,o(a(98)).default)(n.default.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");t.default=r},161:function(e,t,a){"use strict";var o=a(96);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(a(2)),r=(0,o(a(98)).default)(n.default.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"SearchOutlined");t.default=r},181:function(e,t,a){"use strict";var o=a(3),n=a(8),r=a(2),c=a.n(r),l=(a(5),a(22)),i=a(28),s=a(103);var u=function(e,t){var a=function(t,a){return c.a.createElement(s.a,Object(o.a)({ref:a},t),e)};return a.muiName=s.a.muiName,c.a.memo(c.a.forwardRef(a))}(r.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));var d=r.forwardRef((function(e,t){var a=e.alt,c=e.children,i=e.classes,s=e.className,d=e.component,m=void 0===d?"div":d,f=e.imgProps,h=e.sizes,p=e.src,b=e.srcSet,v=e.variant,g=void 0===v?"circle":v,y=Object(n.a)(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),O=null,j=function(e){var t=e.src,a=e.srcSet,o=r.useState(!1),n=o[0],c=o[1];return r.useEffect((function(){if(t||a){c(!1);var e=!0,o=new Image;return o.src=t,o.srcSet=a,o.onload=function(){e&&c("loaded")},o.onerror=function(){e&&c("error")},function(){e=!1}}}),[t,a]),n}({src:p,srcSet:b}),S=p||b,E=S&&"error"!==j;return O=E?r.createElement("img",Object(o.a)({alt:a,src:p,srcSet:b,sizes:h,className:i.img},f)):null!=c?c:S&&a?a[0]:r.createElement(u,{className:i.fallback}),r.createElement(m,Object(o.a)({className:Object(l.a)(i.root,i.system,i[g],s,!E&&i.colorDefault),ref:t},y),O)}));t.a=Object(i.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(d)},183:function(e,t,a){"use strict";var o=a(96);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(a(2)),r=(0,o(a(98)).default)(n.default.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");t.default=r},414:function(e,t,a){"use strict";a.r(t);var o=a(26),n=a(2),r=a.n(n),c=a(50),l=a(35),i=a(42),s=a(95),u=a(181),d=a(143),m=a(161),f=a.n(m),h=a(144),p=a.n(h),b=a(183),v=a.n(b),g=(a(415),r.a.lazy((function(){return Promise.all([a.e(0),a.e(4),a.e(25)]).then(a.bind(null,142))}))),y=r.a.lazy((function(){return Promise.all([a.e(0),a.e(2),a.e(6),a.e(13)]).then(a.bind(null,457))})),O=r.a.lazy((function(){return Promise.all([a.e(0),a.e(6),a.e(22)]).then(a.bind(null,459))})),j=r.a.lazy((function(){return Promise.all([a.e(3),a.e(29)]).then(a.bind(null,153))}));t.default=function(e){var t=e.roomCreatedBy,a=e.roomOwner,m=e.roomName,h=e.roomId,b=(e._roomId,e.messagesId,e.name),S=e.messages,E=e.chatUser,z=e.db,w=e.history,R=e.isRoomExist,k=Object(l.b)(),M=Object(o.a)(k,1)[0].user,C=Object(n.useState)(!1),N=Object(o.a)(C,2),x=N[0],_=N[1],I=Object(n.useState)(!1),L=Object(o.a)(I,2),P=L[0],D=L[1],A=Object(n.useState)(null),T=Object(o.a)(A,2),B=T[0],F=T[1],H=Object(n.useState)(""),U=Object(o.a)(H,2),$=(U[0],U[1]),J=Object(n.useState)(!1),Y=Object(o.a)(J,2),q=Y[0],V=Y[1],G=Object(n.useState)(!1),K=Object(o.a)(G,2),Q=K[0],W=K[1];Object(n.useEffect)((function(){var e;M.uid&&z.collection("users").doc(M.uid).get().then((function(e){e.exists&&$(e.data().role)})).catch((function(e){Object(i.a)("".concat(e),"errorAbout","top-center")})),(null===(e=S[S.length-1])||void 0===e?void 0:e.timestamp)?V(!0):V(!1),S[S.length-1]?W(!0):W(!1),R>=0&&(D(!1),_(!1))}),[M.uid,M.displayName,M.isAnonymous,z,S,h,R]);var X=function(e){F(e.currentTarget)},Z=[{title:"Contact info",onClick:function(){return D(!0),void F(null)},id:1e5*Math.random()},{title:"Select messages",onClick:function(){Object(i.a)("Select Messages is not yet  available!","selectMessages","top-center")},id:1e5*Math.random()},{title:"Mute notifications",onClick:function(){Object(i.a)("Mute Notifications is not yet available!","muteNotifications","top-center")},id:1e5*Math.random()},{title:"Clear messages",onClick:function(){return function(){var e="clearMessages";a===M.uid?(z.collection("rooms").doc(h).collection("messages").delete().then((function(){Object(i.a)("Messages successfully deleted!",e,"top-center")})).catch((function(t){Object(i.a)("Error removing messages! ".concat(t),e,"top-center")})),w.push("/")):Object(i.a)("You are not allowed to delete room ".concat(m,". Only the room owner ").concat(t),e,"top-center")}()},id:1e5*Math.random()},{title:"Delete Room",onClick:function(){return function(){var e="roomDeleted";a===M.uid?(z.collection("rooms").doc(h).delete().then((function(){Object(i.a)("Room successfully deleted!",e,"top-center")})).catch((function(t){Object(i.a)("Error removing room! ".concat(t),e,"top-center")})),w.push("/")):Object(i.a)("You are not allowed to delete room ".concat(m,". Only the room owner ").concat(t),e,"top-center")}()},id:1e5*Math.random()}];return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement("p",null,"Loading")},r.a.createElement("div",{className:"chat__header"},r.a.createElement(y,{drawerRightSearch:x,setDrawerRightSearch:_,roomId:h,messages:S,db:z,user:M}),r.a.createElement(O,{drawerRightInfo:P,setDrawerRightInfo:D,roomId:h,messages:S,db:z,user:M}),r.a.createElement(s.a,{smUp:!0},r.a.createElement(c.b,{to:"/"},r.a.createElement("div",{className:"chat__back_button"},r.a.createElement(d.a,null,r.a.createElement(p.a,{style:{color:"#de5751"}}))))),r.a.createElement(u.a,{src:E?null===E||void 0===E?void 0:E.photoURL:null}),r.a.createElement("div",{className:"chat__headerInfo"},r.a.createElement("h3",null,E?E.name:b),Q?r.a.createElement(r.a.Fragment,null,q?r.a.createElement("p",null,"Last seen ",function(){var e,t;return new Date(null===(e=S[S.length-1])||void 0===e||null===(t=e.timestamp)||void 0===t?void 0:t.toDate()).toLocaleTimeString([],{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",hour12:!0,minute:"numeric"})}()):r.a.createElement("p",null,"Last seen ",(new Date).toLocaleTimeString([],{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",hour12:!0,minute:"numeric"}))):null),r.a.createElement("div",{className:"chat__headerRight"},r.a.createElement(j,{name:"Search",icon:r.a.createElement(f.a,{style:{color:"#de5751"}}),onClick:function(){_(!0)}}),r.a.createElement(j,{name:"Menu",icon:r.a.createElement(v.a,{style:{color:"#de5751"}}),onClick:X}),r.a.createElement(g,{menuLists:Z,menu:B,handleMenuOpen:X,handleMenuClose:function(){F(null)}}))))}},415:function(e,t,a){},96:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},98:function(e,t,a){"use strict";var o=a(96);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=r.default.memo(r.default.forwardRef((function(t,a){return r.default.createElement(c.default,(0,n.default)({ref:a},t),e)})));0;return a.muiName=c.default.muiName,a};var n=o(a(107)),r=o(a(2)),c=o(a(105))}}]);
//# sourceMappingURL=19.825cc9e9.chunk.js.map