{"version":3,"sources":["Sidebar/SiderbarUserList.js","Sidebar/Drawer2.js"],"names":["TooltipCustom","React","lazy","SidebarUserList","data","useStateValue","user","to","className","Avatar","src","photoURL","name","email","icon","style","color","onClick","e","preventDefault","db","collection","add","roomOwner","uid","createdBy","displayName","participants","timestamp","firebase","firestore","FieldValue","serverTimestamp","then","docRef","doc","id","set","merge","onSnapshot","snapshot","userRooms","rooms","push","update","catch","error","console","SearchBar","useStyles","makeStyles","theme","root","display","drawerPaper","position","Drawer2","myUsers","drawer2","setDrawer2","userData","classes","useState","search","setSearch","loading","noRooms","Suspense","fallback","Drawer","anchor","variant","open","paper","IconButton","placeholder","filter","x","toLowerCase","includes","map","CircularProgress"],"mappings":"mSASMA,G,OAAgBC,IAAMC,MAAK,kBAAM,yDAmDxBC,MAlDf,YAAoC,IAATC,EAAQ,EAARA,KACzB,EAAmBC,cAAVC,EAAT,oBAASA,KAgCT,OACE,kBAAC,IAAD,CAAMC,GAAG,IAAIC,UAAU,qBACrB,yBAAKA,UAAU,eACb,kBAACC,EAAA,EAAD,CAAQC,IAAKN,EAAKO,WAClB,yBAAKH,UAAU,qBACb,4BAAKJ,EAAKQ,MACV,2BAAIR,EAAKS,OACT,kBAACb,EAAD,CACEY,KAAK,aACLE,KAAM,kBAAC,IAAD,CAAeC,MAAO,CAAEC,MAAO,aACrCC,QAxCS,SAACC,GAClBA,EAAEC,iBAEFC,IAAGC,WAAW,SACXC,IAAI,CACHC,UAAWjB,EAAKkB,IAChBC,UAAWnB,EAAKoB,YAChBd,KAAM,OACNe,aAAc,CAACrB,EAAKkB,IAAKpB,EAAKoB,KAC9BI,UAAWC,IAASC,UAAUC,WAAWC,oBAE1CC,MAAK,SAAUC,GACdd,IAAGC,WAAW,SAASc,IAAID,EAAOE,IAAIC,IACpC,CACED,GAAIF,EAAOE,IAEb,CAAEE,OAAO,IAEXlB,IAAGC,WAAW,SACXc,IAAI7B,EAAKkB,KACTe,YAAW,SAACC,GACX,IAAMC,EAAYD,EAASpC,OAAOsC,MAClCD,EAAUE,KAAKT,EAAOE,IACtBhB,IAAGC,WAAW,SAASc,IAAI7B,EAAKkB,KAAKoB,OAAO,CAAEF,MAAOD,UAG1DI,OAAM,SAAUC,GACfC,QAAQD,MAAM,0BAA2BA,aC3B3CE,EAAY/C,IAAMC,MAAK,kBAAM,iCAE7B+C,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJC,QAAS,QAEXC,YAAa,CACXC,SAAU,gBAoGCC,UAhGf,YAAqD,IAWxBC,EAXVC,EAAiC,EAAjCA,QAASC,EAAwB,EAAxBA,WAAYC,EAAY,EAAZA,SAChCC,EAAUZ,IAEhB,EAA4Ba,mBAAS,IAArC,mBAAOC,EAAP,KAAeC,EAAf,KACA,EAAkBF,oBAAS,GAApBG,EAAP,oBACA,EAAkBH,oBAAS,GAApBI,EAAP,oBAeA,OACE,kBAAC,IAAMC,SAAP,CAAgBC,SAAU,uCACxB,6BACE,kBAACC,EAAA,EAAD,CACEC,OAAO,OACPC,QAAQ,aACRC,KAAMd,EACNG,QAAS,CAAEY,MAAOZ,EAAQP,cAE1B,yBAAK9C,UAAU,sBACb,yBAAKA,UAAU,gCACb,kBAACkE,EAAA,EAAD,CAAYzD,QAxBE,WACxB0C,GAAW,KAwBC,kBAAC,IAAD,OAEF,yCAGJ,yBAAKnD,UAAU,uBACb,kBAACwC,EAAD,CACEe,OAAQA,EACRC,UAAWA,EACXW,YAAY,6BAEd,yBAAKnE,UAAU,mBACb,wFAEF,yBAAKA,UAAU,mBACA,IAAZyD,EACC,oCACGF,EACC,oCACE,6BACGH,EACCA,EACGgB,QA3CAnB,EA2CgBM,EA1ClC,SAAUc,GAEf,OADiBA,EAAEjE,KAAO,IAEbkE,cAAcC,SAAStB,EAAQqB,iBAAmBrB,KAwCxCuB,KAAI,SAAC1E,GAAD,OAAU,kBAAC,EAAD,CAAiBF,KAAME,OAExC,yBAAKE,UAAU,iCACb,4DAMR,oCACGoD,EACCA,EAASoB,KAAI,SAAC1E,GAAD,OAAU,kBAAC,EAAD,CAAiBF,KAAME,OAE9C,yBAAKE,UAAU,iCACb,mDAOV,yBAAKA,UAAU,mCACb,6BACE,kBAACyE,EAAA,EAAD,QAKLf,GAAWD,EACV,yBAAKzD,UAAU,iCACb,2CAEA","file":"static/js/25.5616747e.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport { useStateValue } from \"../StateProvider\";\r\nimport PersonAddIcon from \"@material-ui/icons/PersonAdd\";\r\nimport db from \"../firebase\";\r\nimport \"./SiderbarUserList.css\";\r\nimport { firebase } from \"../firebase\";\r\n\r\nconst TooltipCustom = React.lazy(() => import(\"../shared/TooltipCustom\"));\r\nfunction SidebarUserList({ data }) {\r\n  const [{ user }] = useStateValue();\r\n\r\n  const createChat = (e) => {\r\n    e.preventDefault();\r\n\r\n    db.collection(\"rooms\")\r\n      .add({\r\n        roomOwner: user.uid,\r\n        createdBy: user.displayName,\r\n        name: \"room\",\r\n        participants: [user.uid, data.uid],\r\n        timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n      })\r\n      .then(function (docRef) {\r\n        db.collection(\"rooms\").doc(docRef.id).set(\r\n          {\r\n            id: docRef.id,\r\n          },\r\n          { merge: true }\r\n        );\r\n        db.collection(\"users\")\r\n          .doc(user.uid)\r\n          .onSnapshot((snapshot) => {\r\n            const userRooms = snapshot.data().rooms;\r\n            userRooms.push(docRef.id);\r\n            db.collection(\"users\").doc(user.uid).update({ rooms: userRooms });\r\n          });\r\n      })\r\n      .catch(function (error) {\r\n        console.error(\"Error adding document: \", error);\r\n      });\r\n  };\r\n  return (\r\n    <Link to=\"/\" className=\"sidebarChat__link\">\r\n      <div className=\"sidebarChat\">\r\n        <Avatar src={data.photoURL}></Avatar>\r\n        <div className=\"sidebarChat__info\">\r\n          <h2>{data.name}</h2>\r\n          <p>{data.email}</p>\r\n          <TooltipCustom\r\n            name=\"Add Friend\"\r\n            icon={<PersonAddIcon style={{ color: \"#de5751\" }} />}\r\n            onClick={createChat}\r\n          />\r\n        </div>\r\n      </div>\r\n    </Link>\r\n  );\r\n}\r\nexport default SidebarUserList;\r\n","import React, { useState } from \"react\";\r\n//importing components\r\n//importing material-ui\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n//importing material-ui-icons\r\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\r\n//importing styles\r\nimport \"./Drawer2.css\";\r\nimport SidebarUserList from \"./SiderbarUserList\";\r\n\r\nconst SearchBar = React.lazy(() => import(\"../shared/SearchBar\"));\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n  },\r\n  drawerPaper: {\r\n    position: \"absolute\",\r\n  },\r\n}));\r\n\r\nfunction Drawer2({ drawer2, setDrawer2, userData }) {\r\n  const classes = useStyles();\r\n\r\n  const [search, setSearch] = useState(\"\");\r\n  const [loading] = useState(false);\r\n  const [noRooms] = useState(false);\r\n\r\n  const handleDrawerClose = () => {\r\n    setDrawer2(false);\r\n  };\r\n\r\n  const findUser = function (myUsers) {\r\n    return function (x) {\r\n      var searchRoom = x.name + \"\";\r\n      return (\r\n        searchRoom.toLowerCase().includes(myUsers.toLowerCase()) || !myUsers\r\n      );\r\n    };\r\n  };\r\n\r\n  return (\r\n    <React.Suspense fallback={<p>Loading</p>}>\r\n      <div>\r\n        <Drawer\r\n          anchor=\"left\"\r\n          variant=\"persistent\"\r\n          open={drawer2}\r\n          classes={{ paper: classes.drawerPaper }}\r\n        >\r\n          <div className=\"drawerLeft__header\">\r\n            <div className=\"drawerLeft__header_container\">\r\n              <IconButton onClick={handleDrawerClose}>\r\n                <ArrowBackIcon />\r\n              </IconButton>\r\n              <p>Add User</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"drawerLeft__content\">\r\n            <SearchBar\r\n              search={search}\r\n              setSearch={setSearch}\r\n              placeholder=\"Search or start new chat\"\r\n            />\r\n            <div className=\"drawerLeft__not\">\r\n              <span>Select or Search for your new friends here at Tattle.</span>\r\n            </div>\r\n            <div className=\"sidebar__chats\">\r\n              {loading === false ? (\r\n                <>\r\n                  {search ? (\r\n                    <>\r\n                      <div>\r\n                        {userData ? (\r\n                          userData\r\n                            .filter(findUser(search))\r\n                            .map((user) => <SidebarUserList data={user} />)\r\n                        ) : (\r\n                          <div className=\"sidebar__chatsContainer_empty\">\r\n                            <span>No Users searched found</span>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      {userData ? (\r\n                        userData.map((user) => <SidebarUserList data={user} />)\r\n                      ) : (\r\n                        <div className=\"sidebar__chatsContainer_empty\">\r\n                          <span>No Users found</span>\r\n                        </div>\r\n                      )}\r\n                    </>\r\n                  )}\r\n                </>\r\n              ) : (\r\n                <div className=\"sidebar__chatsContainer_loading\">\r\n                  <div>\r\n                    <CircularProgress />\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {noRooms && loading ? (\r\n                <div className=\"sidebar__chatsContainer_empty\">\r\n                  <span>No chats</span>\r\n                </div>\r\n              ) : null}\r\n            </div>\r\n          </div>\r\n        </Drawer>\r\n      </div>\r\n    </React.Suspense>\r\n  );\r\n}\r\n\r\nexport default Drawer2;\r\n"],"sourceRoot":""}