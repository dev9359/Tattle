{"version":3,"sources":["../node_modules/@material-ui/icons/ArrowForward.js","../node_modules/@material-ui/icons/Done.js","Chat/DrawerRight.js","shared/SearchBar.js","../node_modules/@material-ui/core/esm/Divider/Divider.js","Chat/DrawerRightSearch.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","_react","_default","createElement","d","useStyles","makeStyles","theme","root","display","drawerPaper","breakpoints","only","width","up","position","DrawerRight","content","drawerRight","classes","anchor","variant","open","paper","SearchBar","placeholder","setSearch","search","useState","showArrowIcon","setShowArrowIcon","className","onChange","e","target","type","required","onFocus","onBlur","Divider","React","props","ref","_props$absolute","absolute","_props$component","component","Component","_props$flexItem","flexItem","_props$light","light","_props$orientation","orientation","_props$role","role","undefined","_props$variant","other","_objectWithoutProperties","_extends","clsx","vertical","withStyles","height","margin","border","flexShrink","backgroundColor","palette","divider","bottom","left","inset","marginLeft","fade","middle","spacing","marginRight","alignSelf","name","CryptoJS","DrawerRightSearch","drawerRightSearch","setDrawerRightSearch","messages","user","isFoundMessage","setIsFoundMessage","findMessage","myMessages","x","message","caption","toLowerCase","includes","decrypt","data","decryptedData","AES","toString","enc","Utf8","useEffect","filter","map","key","id","children","length","console","log","onClick","Date","timestamp","toDate","toLocaleTimeString","hour","hour12","minute","uid"],"mappings":"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","file":"static/js/14.c27eccaf.chunk.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z\"\n}), 'ArrowForward');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\"\n}), 'Done');\n\nexports.default = _default;","import React from \"react\";\r\n//importing material-ui\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n//importing styles\r\nimport \"./DrawerRight.css\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n  },\r\n  drawerPaper: {\r\n    [theme.breakpoints.only(\"xs\")]: {\r\n      width: \"100vw\",\r\n    },\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      position: \"absolute\",\r\n    },\r\n  },\r\n}));\r\n\r\nfunction DrawerRight({ content, drawerRight }) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div>\r\n      <Drawer\r\n        anchor=\"right\"\r\n        variant=\"persistent\"\r\n        open={drawerRight}\r\n        classes={{ paper: classes.drawerPaper }}\r\n      >\r\n        {content}\r\n      </Drawer>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DrawerRight;\r\n","import React, { useState } from 'react';\r\nimport SearchOutlinedIcon from '@material-ui/icons/SearchOutlined';\r\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\r\nimport './SearchBar.css';\r\n\r\nfunction SearchBar( { placeholder, setSearch, search } ) {\r\n    const [showArrowIcon, setShowArrowIcon] = useState(false);\r\n\r\n    const displaySearchIcon = () => {\r\n        setShowArrowIcon(false);\r\n    }\r\n    \r\n    const displayArrowIcon = () => {\r\n        setShowArrowIcon(true);\r\n    }\r\n\r\n    return (\r\n        <div className={`search ${showArrowIcon===true && \"search__bgColorChange\"}`}>\r\n            <div className=\"search__container\">\r\n                <span className={`${showArrowIcon===true?\"arroww\":''}`}>{showArrowIcon? <ArrowForwardIcon />:<SearchOutlinedIcon/>}</span>\r\n                <input \r\n                    value={search} \r\n                    onChange={e => setSearch(e.target.value)} \r\n                    type=\"text\" \r\n                    placeholder={placeholder} \r\n                    required\r\n                    onFocus={displayArrowIcon}\r\n                    onBlur={displaySearchIcon}\r\n                />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SearchBar","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport { fade } from '../styles/colorManipulator';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      height: 1,\n      margin: 0,\n      // Reset browser default style.\n      border: 'none',\n      flexShrink: 0,\n      backgroundColor: theme.palette.divider\n    },\n\n    /* Styles applied to the root element if `absolute={true}`. */\n    absolute: {\n      position: 'absolute',\n      bottom: 0,\n      left: 0,\n      width: '100%'\n    },\n\n    /* Styles applied to the root element if `variant=\"inset\"`. */\n    inset: {\n      marginLeft: 72\n    },\n\n    /* Styles applied to the root element if `light={true}`. */\n    light: {\n      backgroundColor: fade(theme.palette.divider, 0.08)\n    },\n\n    /* Styles applied to the root element if `variant=\"middle\"`. */\n    middle: {\n      marginLeft: theme.spacing(2),\n      marginRight: theme.spacing(2)\n    },\n\n    /* Styles applied to the root element if `orientation=\"vertical\"`. */\n    vertical: {\n      height: '100%',\n      width: 1\n    },\n\n    /* Styles applied to the root element if `flexItem={true}`. */\n    flexItem: {\n      alignSelf: 'stretch',\n      height: 'auto'\n    }\n  };\n};\nvar Divider = /*#__PURE__*/React.forwardRef(function Divider(props, ref) {\n  var _props$absolute = props.absolute,\n      absolute = _props$absolute === void 0 ? false : _props$absolute,\n      classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'hr' : _props$component,\n      _props$flexItem = props.flexItem,\n      flexItem = _props$flexItem === void 0 ? false : _props$flexItem,\n      _props$light = props.light,\n      light = _props$light === void 0 ? false : _props$light,\n      _props$orientation = props.orientation,\n      orientation = _props$orientation === void 0 ? 'horizontal' : _props$orientation,\n      _props$role = props.role,\n      role = _props$role === void 0 ? Component !== 'hr' ? 'separator' : undefined : _props$role,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'fullWidth' : _props$variant,\n      other = _objectWithoutProperties(props, [\"absolute\", \"classes\", \"className\", \"component\", \"flexItem\", \"light\", \"orientation\", \"role\", \"variant\"]);\n\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, className, variant !== 'fullWidth' && classes[variant], absolute && classes.absolute, flexItem && classes.flexItem, light && classes.light, orientation === 'vertical' && classes.vertical),\n    role: role,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? Divider.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Absolutely position the element.\n   */\n  absolute: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * If `true`, a vertical divider will have the correct height when used in flex container.\n   * (By default, a vertical divider will have a calculated height of `0px` if it is the child of a flex container.)\n   */\n  flexItem: PropTypes.bool,\n\n  /**\n   * If `true`, the divider will have a lighter color.\n   */\n  light: PropTypes.bool,\n\n  /**\n   * The divider orientation.\n   */\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n  /**\n   * @ignore\n   */\n  role: PropTypes.string,\n\n  /**\n   * The variant to use.\n   */\n  variant: PropTypes.oneOf(['fullWidth', 'inset', 'middle'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiDivider'\n})(Divider);","import React, { useState, useEffect } from \"react\";\r\n//importing components\r\nimport SearchBar from \"../shared/SearchBar\";\r\n//importing material-ui\r\nimport DrawerRight from \"./DrawerRight\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\n//importing material-ui-icons\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport DoneIcon from \"@material-ui/icons/Done\";\r\n//importing styles\r\nimport \"./DrawerRightSearch.css\";\r\nconst CryptoJS = require(\"crypto-js\");\r\n\r\nfunction DrawerRightSearch({\r\n  drawerRightSearch,\r\n  setDrawerRightSearch,\r\n  messages,\r\n  user,\r\n}) {\r\n  const [search, setSearch] = useState(\"\");\r\n  const [isFoundMessage, setIsFoundMessage] = useState(false);\r\n\r\n  const findMessage = function (myMessages) {\r\n    return function (x) {\r\n      var searchMessage = x.message + \"\" + x.caption;\r\n      return (\r\n        searchMessage.toLowerCase().includes(myMessages.toLowerCase()) ||\r\n        !myMessages\r\n      );\r\n    };\r\n  };\r\n  const decrypt = (data) => {\r\n    const bytes = CryptoJS.AES.decrypt(data, \"my-secret-key@123\");\r\n    const decryptedData = bytes.toString(CryptoJS.enc.Utf8);\r\n    // return decryptedData\r\n    return data ? decryptedData : data;\r\n  };\r\n  useEffect(() => {\r\n    const messageResult = () => {\r\n      return (\r\n        <>\r\n          {messages.filter(findMessage(search)).map((message) => (\r\n            <p key={message.id}>\r\n              {message.message ? decrypt(message.message) : \"\"}\r\n              {message.caption}\r\n            </p>\r\n          ))}\r\n        </>\r\n      );\r\n    };\r\n\r\n    if (search) {\r\n      var result = messageResult();\r\n      // console.log(\"result\", result.props.children)\r\n      if (result.props.children.length > 0) {\r\n        setIsFoundMessage(true);\r\n        console.log(\"search message sucess\");\r\n      } else {\r\n        setIsFoundMessage(false);\r\n        console.log(\"search message fail\");\r\n      }\r\n    }\r\n  }, [search, messages]);\r\n\r\n  const handleDrawerClose = () => {\r\n    setDrawerRightSearch(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <DrawerRight\r\n        drawerRight={drawerRightSearch}\r\n        content={\r\n          <>\r\n            <div className=\"drawerRight__header\">\r\n              <IconButton onClick={handleDrawerClose}>\r\n                <CloseIcon />\r\n              </IconButton>\r\n              <p>Search Messages</p>\r\n            </div>\r\n\r\n            <SearchBar\r\n              search={search}\r\n              setSearch={setSearch}\r\n              placeholder=\"Search...\"\r\n            />\r\n\r\n            <div\r\n              className={`drawerRight__content ${\r\n                isFoundMessage === true &&\r\n                search.length > 0 &&\r\n                \"drawerRight__content_searched\"\r\n              }`}\r\n            >\r\n              {search.length > 0 ? (\r\n                <>\r\n                  {isFoundMessage ? (\r\n                    <>\r\n                      {messages.filter(findMessage(search)).map((message) => (\r\n                        <div\r\n                          key={message.id}\r\n                          className=\"drawerRight__content_searched_message\"\r\n                        >\r\n                          <p>\r\n                            {new Date(\r\n                              message.timestamp?.toDate()\r\n                            ).toLocaleTimeString(\"en-US\", {\r\n                              hour: \"numeric\",\r\n                              hour12: true,\r\n                              minute: \"numeric\",\r\n                            })}\r\n                            <br />\r\n                          </p>\r\n                          <p id=\"last_p\">\r\n                            {message.uid === user.uid ? <DoneIcon /> : null}\r\n                            {message.message ? decrypt(message.message) : \"\"}\r\n                            {message.caption}\r\n                          </p>\r\n                          <Divider />\r\n                        </div>\r\n                      ))}\r\n                    </>\r\n                  ) : (\r\n                    <p>No message found</p>\r\n                  )}\r\n                </>\r\n              ) : (\r\n                <p>Search for messages in this room.</p>\r\n              )}\r\n            </div>\r\n          </>\r\n        }\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DrawerRightSearch;\r\n"],"sourceRoot":""}