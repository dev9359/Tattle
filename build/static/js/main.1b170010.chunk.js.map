{"version":3,"sources":["StateProvider.js","firebase.js","actions/userAction.js","shared/toastInfo.js","images/logo.png","Login.js","images/Google G Logo.png","Sidebar/UserAvatar.js","shared/TooltipCustom.js","Sidebar/NewChat.js","Sidebar/Status.js","shared/DropdownMenu.js","shared/DialogCustom.js","Sidebar/DrawerLeft.js","shared/SearchBar.js","Sidebar/SidebarChat.js","Sidebar/Sidebar.js","Chat/DrawerRight.js","Chat/DrawerRightSearch.js","Chat/DrawerRightInfo.js","Chat/ChatHeader.js","Chat/ChatBody.js","Chat/DrawerBottom.js","Chat/ChatFooter.js","Chat/ChatLandingScreen.js","Chat/Chat.js","App.js","serviceWorkerRegistration.js","reducer.js","index.js"],"names":["StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","db","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","provider","GoogleAuthProvider","storage","setUser","authUser","type","user","toastInfo","toastTitle","toastId","position","toast","info","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","Login","className","src","Logo","alt","onClick","signInWithPopup","catch","error","signInAnonymously","UserAvatar","photoURL","style","cursor","Avatar","TooltipCustom","name","icon","Tooltip","title","fontSize","padding","placement","IconButton","NewChat","useState","roomName","setRoomName","open","setOpen","handleNewChatClose","Dialog","onClose","aria-labelledby","DialogTitle","id","DialogContent","TextField","autoFocus","margin","label","fullWidth","onChange","e","target","DialogActions","Button","color","preventDefault","collection","add","roomOwner","uid","createdBy","displayName","timestamp","FieldValue","serverTimestamp","then","docRef","doc","set","merge","console","disabled","Status","DropdownMenu","menuLists","menu","handleMenuClose","Menu","anchorEl","keepMounted","Boolean","anchorOrigin","vertical","horizontal","transformOrigin","getContentAnchorEl","map","menuList","MenuItem","key","DialogCustom","close","photo","fullScreen","aria-describedby","edge","aria-label","Zoom","in","transitionDelay","useStyles","makeStyles","theme","root","display","drawerPaper","DrawerLeft","drawerLeft","setDrawerLeft","classes","setName","about","setAbout","showEditName","setShowEditName","showEditAbout","setShowEditAbout","showProfilePhoto","setShowProfilePhoto","uploadPhotoLink","setUploadPhotoLink","showDialogUpload","setShowDialogUpload","menuProfile","setMenuProfile","setPhoto","useEffect","onSnapshot","data","onFileChangeImage","a","file","files","size","storageRef","ref","isAnonymous","imagesRef","child","fileRef","put","getDownloadURL","log","handleUploadPhoto","currentUser","updateProfile","Math","random","htmlFor","accept","Drawer","anchor","variant","paper","event","currentTarget","styles","borderBottom","update","SearchBar","placeholder","setSearch","search","showArrowIcon","setShowArrowIcon","required","onFocus","onBlur","SidebarChat","messages","setMessages","orderBy","snapshot","docs","to","video","message","url","Sidebar","rooms","setIsRoomExist","isRoomExist","history","useHistory","roomId","useParams","loading","setLoading","noRooms","setNoRooms","menuSidebar","setMenuSidebar","isSearchFound","setIsSetSearchFound","findRoom","myRooms","x","toLowerCase","includes","filter","room","props","length","index","findIndex","push","handleDrawerLeftOpen","handleMenuOpen","delete","signOut","CircularProgress","breakpoints","only","width","up","DrawerRight","content","drawerRight","DrawerRightSearch","drawerRightSearch","setDrawerRightSearch","isFoundMessage","setIsFoundMessage","findMessage","myMessages","caption","Date","toDate","toLocaleTimeString","hour","hour12","minute","Divider","DrawerRightInfo","drawerRightInfo","setDrawerRightInfo","messageResult","ChatHeader","roomCreatedBy","_roomId","menuChat","setMenuChat","role","setRole","showDate","setShowDate","isLastMessage","setIsLastMessage","get","exists","menuChatLists","roomDeleted","deleteRoom","Hidden","smUp","weekday","year","month","day","getDateFromMessage","ChatBody","messagesEndRef","useRef","playing","setPlaying","handlePlay","handlePause","current","scrollIntoView","behavior","height","controls","onPlay","onPause","onEnded","href","rel","paperAnchorBottom","left","right","bottom","maxHeight","top","DrawerBottom","drawerBottom","setDrawerBottom","fileImageUrl","fileVideoUrl","setFileVideoUrl","setFileImageUrl","setCaption","Fab","attachFileLists","ChatFooter","input","setInput","emoji","setEmoji","showAttachFile","setShowAttachFile","attachFile","addEmoji","native","handleEmoticonsClose","onFileChange","match","getTime","videosRef","onSelect","ClickAwayListener","onClickAway","attachFileList","Slide","direction","mountOnEnter","unmountOnExit","rows","onKeyDown","keyCode","shiftKey","test","ChatLandingScreen","showLandingScreenPhoto","Chat","set_RoomId","setRoomCreatedBy","setRoomOwner","setShowLandingScreenPhoto","App","dispatch","setRooms","unsubscribe","onAuthStateChanged","anonymousName","floor","dateJoined","newestOnTop","rtl","pauseOnFocusLoss","exact","path","LinearProgress","isLocalhost","window","location","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","actionTypes","action","ReactDOM","render","StrictMode","document","getElementById","URL","process","origin","addEventListener","fetch","headers","response","contentType","status","indexOf","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.1b170010.chunk.js","sourcesContent":["import React, { createContext, useContext, useReducer } from 'react';\n\nexport const StateContext = createContext();\n\nexport const StateProvider = ({ reducer, initialState, children }) => (\n    <StateContext.Provider value={useReducer(reducer, initialState)}>\n        {children}\n    </StateContext.Provider>\n);\n\nexport const useStateValue =  () => useContext(StateContext);","import firebase from 'firebase';\t\n\nconst firebaseConfig = {\t\n    apiKey: \"AIzaSyCF7lHw_Z7DmZgpoZuYIGveD0eZ8ha7Qyg\",\n    authDomain: \"tattle-9359.firebaseapp.com\",\n    databaseURL: \"https://tattle-9359-default-rtdb.firebaseio.com/\",\n    projectId: \"tattle-9359\",\n    storageBucket: \"tattle-9359.appspot.com\",\n    messagingSenderId: \"849640668400\",\n    appId: \"1:849640668400:web:91c77b3a931a325ef4d635\",\n    measurementId: \"G-17X1MHRTRX\"\n};\t\n\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\t\n\nconst db = firebaseApp.firestore();\t\nconst auth = firebase.auth();\t\nconst provider = new firebase.auth.GoogleAuthProvider();\t\nconst storage = firebase.storage();\n\nexport { auth, provider, storage, firebase };\t\nexport default db;  ","export function setUser(authUser){\n    return {\n        type: 'SET_USER',\n        user: authUser,\n    }\n}","import { toast } from 'react-toastify';\n\nexport const toastInfo = ( toastTitle, toastId, position ) => {\n    toast.info(toastTitle, {\n        toastId: toastId,\n        position: position,\n        autoClose: 5000,\n        hideProgressBar: true,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n        }\n    );\n}","export default __webpack_public_path__ + \"static/media/logo.882da599.png\";","import React from \"react\";\nimport { auth, provider } from \"./firebase\";\nimport { toastInfo } from \"./shared/toastInfo\";\nimport PermIdentityIcon from \"@material-ui/icons/PermIdentity\";\nimport GoogleLogo from \"./images/Google G Logo.png\";\nimport Logo from \"./images/logo.png\";\nimport \"./Login.css\";\n\nfunction Login() {\n  const signInGoogle = () => {\n    const google = \"google\";\n\n    auth\n      .signInWithPopup(provider)\n      .catch((error) => toastInfo(`${error}`, google, \"top-center\"));\n  };\n\n  const loginAnonymously = () => {\n    const anonymous = \"anonymous\";\n\n    auth\n      .signInAnonymously()\n      .catch((error) => toastInfo(`${error}`, anonymous, \"top-center\"));\n  };\n\n  return (\n    <div className=\"login\">\n      <div className=\"login__container\">\n        <img src={Logo} alt=\"Tattle Logo\" />\n        <div className=\"login__text\">\n          <h2>Keeps you Connected</h2>\n          <br></br>\n          <p>Tattle is driven by a fascination for communication </p>\n          <p>technology that was once viewed as a passing trend.</p>\n        </div>\n        <div className=\"login__withGoogle\" onClick={signInGoogle}>\n          <img src={GoogleLogo} alt=\"Google Logo\" />\n          <span>Sign in with Google</span>\n        </div>\n\n        <div\n          className=\"login__withGoogle login__Anonymously\"\n          onClick={loginAnonymously}\n        >\n          <PermIdentityIcon />\n          <span>Login Anonymously</span>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgEAQAAACJ4248AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAAAGAAAABgAPBrQs8AAAAHdElNRQflBgUJNAZvW0hOAAACwklEQVRYw7WXyy8zURjGnzNudQmJWFDilrQo1RVdYCUiJJYi/hkScQkLka5orKiwtLMgIZEgQ1K1EQsLScu4JYo00cR5vsW4fGGmnWLe3eTMeX/P854z58wrYDHIwkJgYADo7ATa2wGnEygtBaWEuLkBNA04OgI3N4HtbaE8P1vNnQZcW0suLpJPT7Qa8vmZnJujrK7+OVjm5ZHT0+TLi2Xwt0gmybExypycDOEuF3l8/HPw14rs75P5+RZL7vGQsdifwRmPUw4MWITX1VHe3v6d89NTSrc7FTP7E15QAKyvQ5SVpZd6egqoKhCL6c9OJ+D3A01Nn242NoDhYaHE4xbXfXIyjR1JLi1Rer3mOVpayFCIcmaGzMrKYNO53WQiYQ6/uyO7uy0nzDTIhYXU8IYG++CyuNjcvZS2OtfdDw2Zu19ethWuVyAYNIZrGmVrq/0CqKrGAs7OrM1fWfn5QbG7qwA1Ncap9/Zsd4/ycgUoKTG2dnVlO58VFQpAGg4KRbFdgMjOVoCHB7Py2C4A8bgCXlwYD3Z02C/g/DwbIhzWL5KvUV9P6fMJJRJJmYOBALC+bjoumpuB0VHjwUgElIODxp/I6ysZCv3WI7m6av4Z9veDsqgo5VEse3p+DJe9vfpxbhRPT6TD8aZyft5c5f096fFkDm9tTf1zEwj897LLpd96KURkUAmyry91vkSCdDq/TBofT31sSqn/bPh85q69XnJtzbzs7zEx8T5HfApwOICDA8Ac8BlnZ4CqgtEoBAlUVoJ+P0RjY/q5qgp2dQklmTRwUFNDahpti6srSrO756MSHg8Zjf49/PLS8mYm6+spw+G/g5+ckLW1Vjfx23Lk5pJTU79vzUZGMm7Nvu0LGQySj4/WwY+PlLOzVppTYUWEviwFBR/tOdvaIKqqPtpzXF9DaBpweAhubQE7O1bb838OXQJoAVmSXQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMS0wNi0wNVQwOTo1MjowNiswMDowMG3Wl5oAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjEtMDYtMDVUMDk6NTI6MDYrMDA6MDAciy8mAAAAAElFTkSuQmCC\"","import React from 'react';\nimport Avatar from '@material-ui/core/Avatar';\n\nfunction UserAvatar( { photoURL, onClick }) {\n    return (\n        <div style={{cursor: 'pointer'}}>\n            <Avatar \n                src={photoURL} \n                onClick={onClick}\n            />\n        </div>\n    )\n}\n\nexport default UserAvatar","import React from 'react';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\n\nfunction TooltipCustom( { name, icon, onClick }) {\n    return (\n        <div>\n            <Tooltip title={<span style={{fontSize: '14px', \n                padding: '8px 5px 8px 5px'}}>{name}</span>} \n                placement=\"bottom-end\">\n                <IconButton onClick={onClick}>\n                    {icon}\n                </IconButton>\n            </Tooltip>\n        </div>\n    )\n}\n\nexport default TooltipCustom\n","import React, { useState } from 'react';\nimport TooltipCustom from '../shared/TooltipCustom';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport ChatIcon from '@material-ui/icons/Chat';\n\nfunction NewChat({ user, db, firebase }) {\n    const [roomName, setRoomName] = useState(\"\");\n    const [open, setOpen] = useState(false);\n    \n    const handleNewChatOpen = () => {\n        setOpen(true);\n    };\n\n    const handleNewChatClose = () => {\n        setOpen(false);\n        setRoomName(\"\");\n    };\n\n    const createChat = (e) => {\n        e.preventDefault();\n\n        if(roomName) {\n          db.collection(\"rooms\")\n            .add({\n                roomOwner: user.uid,\n                createdBy: user.displayName,\n                name: roomName,\n                timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n            })\n            .then(function(docRef) {\n                db.collection(\"rooms\").doc(docRef.id).set({\n                    id: docRef.id\n                },{ merge: true });\n            })\n            .catch(function(error) {\n                console.error(\"Error adding document: \", error);\n            });\n        }\n        setOpen(false);\n        setRoomName(\"\");\n    }\n\n    return (\n        <div>\n            <TooltipCustom \n                name=\"New Chat\" \n                onClick={() => handleNewChatOpen()} \n                icon={<ChatIcon />}\n            />\n\n            <Dialog open={open} onClose={handleNewChatClose} aria-labelledby=\"form-dialog-title\">\n                <DialogTitle id=\"form-dialog-title\">Create Chat Room</DialogTitle>\n                <DialogContent>\n                <TextField\n                    autoFocus\n                    margin=\"dense\"\n                    id=\"name\"\n                    label=\"Room Name\"\n                    type=\"text\"\n                    fullWidth\n                    value={roomName}\n                    onChange={e => setRoomName(e.target.value)}\n                />\n                </DialogContent>\n                <DialogActions>\n                <Button onClick={handleNewChatClose} color=\"primary\">\n                    Cancel\n                </Button>\n                <Button onClick={createChat} color=\"primary\" disabled={!roomName}>\n                    Create\n                </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    )\n}\n\nexport default NewChat\n","import React from 'react';\nimport TooltipCustom from '../shared/TooltipCustom';\nimport DonutLargeIcon from '@material-ui/icons/DonutLarge';\n\nfunction Status() {\n    return (\n        <div>\n            <TooltipCustom \n                name=\"Status\" \n                icon={<DonutLargeIcon />} \n            />\n        </div>\n    )\n}\n\nexport default Status\n","import React from 'react';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nfunction DropdownMenu ( { menuLists, menu, handleMenuClose }) {\n    return (\n        <div>\n            <Menu id=\"simple-menu\"\n                anchorEl={menu}\n                keepMounted\n                open={Boolean(menu)}\n                onClose={handleMenuClose}\n                anchorOrigin={{\n                    vertical: \"bottom\",\n                    horizontal: \"right\"\n                }}\n                transformOrigin={{\n                    vertical: \"top\",\n                    horizontal: \"right\"\n                }}\n                getContentAnchorEl={null}\n                >\n                \n                {menuLists.map((menuList) =>\n                    <MenuItem key={menuList.id} onClick={menuList.onClick}>\n                        {menuList.title}\n                    </MenuItem>\n                )}\n            </Menu>\n        </div>\n    )\n}\n\nexport default DropdownMenu","import React from 'react';\n// import ReactPlayer from 'react-player';\n//importing material-ui\nimport Zoom from '@material-ui/core/Zoom';\nimport Avatar from '@material-ui/core/Avatar';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport IconButton from '@material-ui/core/IconButton';\n//importing material-ui-icons\nimport CloseIcon from '@material-ui/icons/Close';\n//importing styles\nimport './DialogCustom.css'\n\nfunction DialogCustom({ open, close, user, photo }) {\n    \n    return (\n        <Dialog\n            open={open}\n            fullScreen \n            onClose={close}\n            aria-labelledby=\"alert-dialog-title\"\n            aria-describedby=\"alert-dialog-description\"\n            >\n            <DialogTitle id=\"alert-dialog-title-dialogCustom\">\n                <div>\n                    <Avatar src={user.photoURL}/>\n                </div>\n                <div>\n                    <IconButton edge=\"end\" color=\"inherit\" onClick={close} aria-label=\"close\">\n                        <CloseIcon />\n                    </IconButton>\n                </div>\n            </DialogTitle>\n            <DialogContent>\n                <Zoom in={open} style={{ transitionDelay: open ? '300ms' : '0ms' }}>\n                    <img src={photo} alt=\"\" className=\"DialogCustom__photo\"/>\n                </Zoom>\n            </DialogContent>\n        </Dialog>\n    )\n}\n\nexport default DialogCustom\n","import React, { useEffect, useState } from \"react\";\nimport { useStateValue } from \"../StateProvider\";\n//importing components\nimport DropdownMenu from \"../shared/DropdownMenu\";\nimport { toastInfo } from \"../shared/toastInfo\";\nimport DialogCustom from \"../shared/DialogCustom\";\n//importing material-ui\nimport Zoom from \"@material-ui/core/Zoom\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n//importing material-ui-icons\nimport PhotoCameraIcon from \"@material-ui/icons/PhotoCamera\";\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport CheckIcon from \"@material-ui/icons/Check\";\n//importing styles\nimport \"./DrawerLeft.css\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n  },\n  drawerPaper: {\n    position: \"absolute\",\n  },\n}));\n\nfunction DrawerLeft({ drawerLeft, setDrawerLeft, db, auth, storage }) {\n  const classes = useStyles();\n  const [{ user }] = useStateValue();\n  const [name, setName] = useState(\"\");\n  const [about, setAbout] = useState(\"\");\n  const [showEditName, setShowEditName] = useState(false);\n  const [showEditAbout, setShowEditAbout] = useState(false);\n  const [showProfilePhoto, setShowProfilePhoto] = useState(false);\n  const [uploadPhotoLink, setUploadPhotoLink] = useState(null);\n  const [showDialogUpload, setShowDialogUpload] = useState(false);\n  const [menuProfile, setMenuProfile] = useState(null);\n  const [photo, setPhoto] = useState(\"\");\n\n  useEffect(() => {\n    setName(user.displayName);\n\n    db.collection(\"users\")\n      .doc(user.uid)\n      .onSnapshot(function (doc) {\n        setPhoto(doc.data()?.photoURL);\n        setAbout(doc.data()?.about);\n      });\n  }, [user.uid, user.displayName, db]);\n\n  const updateName = (e) => {\n    e.preventDefault();\n\n    if (user.uid) {\n      db.collection(\"users\")\n        .doc(user.uid)\n        .update({\n          name: name,\n        })\n        .then(function () {\n          console.log(\"Document successfully updated!\");\n        })\n        .catch(function (error) {\n          // The document probably doesn't exist.\n          console.error(\"Error updating document: \", error);\n        });\n\n      auth.currentUser.updateProfile({\n        displayName: name,\n      });\n    }\n    setShowEditName(false);\n  };\n\n  const updateAbout = (e) => {\n    e.preventDefault();\n\n    if (user.uid) {\n      db.collection(\"users\")\n        .doc(user.uid)\n        .update({\n          about: about,\n        })\n        .then(function () {\n          console.log(\"Document successfully updated!\");\n        })\n        .catch(function (error) {\n          // The document probably doesn't exist.\n          console.error(\"Error updating document: \", error);\n        });\n    }\n    setShowEditAbout(false);\n  };\n\n  const editName = () => {\n    setShowEditName(true);\n  };\n\n  const editAbout = () => {\n    setShowEditAbout(true);\n  };\n\n  const handleDrawerClose = () => {\n    setDrawerLeft(false);\n    setShowEditName(false);\n    setShowEditAbout(false);\n  };\n\n  const viewPhoto = () => {\n    const viewPhoto = \"viewPhoto\";\n\n    if (user) {\n      setShowProfilePhoto(true);\n    } else {\n      toastInfo(\"You have no photo!\", viewPhoto, \"top-center\");\n    }\n    setMenuProfile(null);\n  };\n\n  const viewPhotoClose = () => {\n    setShowProfilePhoto(false);\n  };\n\n  const takePhoto = () => {\n    const takePhoto = \"takePhoto\";\n    toastInfo(\"Take photo is not yet available!\", takePhoto, \"top-center\");\n  };\n\n  const removedPhoto = () => {\n    const removedPhoto = \"removedPhoto\";\n    toastInfo(\n      \"Removed photo is not yet available!\",\n      removedPhoto,\n      \"top-center\"\n    );\n  };\n\n  const onFileChangeImage = async (e) => {\n    const imageFileSizeToastId = \"imageFileSizeToastId\";\n    const file = e.target.files[0];\n\n    if (file.size > 3 * 1024 * 1024) {\n      toastInfo(\n        \"Image should not exceed more than 3Mb\",\n        imageFileSizeToastId,\n        \"top-center\"\n      );\n    } else {\n      const storageRef = storage.ref();\n      if (user.isAnonymous === true) {\n        const imagesRef = storageRef.child(`user/anonymous/${user.uid}`);\n        const fileRef = imagesRef.child(file.name);\n        await fileRef.put(file);\n        setUploadPhotoLink(await fileRef.getDownloadURL());\n        console.log(\"uploading image\", uploadPhotoLink);\n      } else {\n        const imagesRef = storageRef.child(`user/regular/${user.uid}`);\n        const fileRef = imagesRef.child(file.name);\n        await fileRef.put(file);\n        setUploadPhotoLink(await fileRef.getDownloadURL());\n        console.log(\"uploading image\", uploadPhotoLink);\n      }\n    }\n    setMenuProfile(null);\n    setShowDialogUpload(true);\n  };\n\n  const uploadPhoto = () => {\n    return (\n      <div className=\"profileMenu_uploadPhoto\">\n        <label htmlFor=\"file-input\">Upload photo</label>\n        <input\n          id=\"file-input\"\n          type=\"file\"\n          onChange={onFileChangeImage}\n          accept=\"image/*\"\n        />\n      </div>\n    );\n  };\n\n  const handleUploadPhoto = () => {\n    const uploadPhotoError = \"uploadPhotoError\";\n\n    if (uploadPhotoLink) {\n      auth.currentUser.updateProfile({\n        photoURL: uploadPhotoLink,\n      });\n      db.collection(\"users\").doc(user.uid).set(\n        {\n          photoURL: uploadPhotoLink,\n        },\n        { merge: true }\n      );\n      setShowDialogUpload(false);\n    } else {\n      toastInfo(\"Select photo to upload!\", uploadPhotoError, \"top-center\");\n    }\n  };\n\n  const handleDialogUploadClose = () => {\n    setShowDialogUpload(false);\n  };\n\n  const handleProfileMenu = (event) => {\n    setMenuProfile(event.currentTarget);\n  };\n\n  const handleProfileMenuClose = () => {\n    setMenuProfile(null);\n  };\n\n  const menuLists = [\n    {\n      title: \"View Photo\",\n      onClick: () => viewPhoto(),\n      id: Math.random() * 100000,\n    },\n    {\n      title: \"Take photo\",\n      onClick: () => takePhoto(),\n      id: Math.random() * 100000,\n    },\n    {\n      title: uploadPhoto(),\n      onClick: () => handleUploadPhoto(),\n      id: Math.random() * 100000,\n    },\n    {\n      title: \"Removed photo\",\n      onClick: () => removedPhoto(),\n      id: Math.random() * 100000,\n    },\n  ];\n\n  return (\n    <div>\n      <Drawer\n        anchor=\"left\"\n        variant=\"persistent\"\n        open={drawerLeft}\n        classes={{ paper: classes.drawerPaper }}\n      >\n        <div className=\"drawerLeft__header\">\n          <div className=\"drawerLeft__header_container\">\n            <IconButton onClick={handleDrawerClose}>\n              <ArrowBackIcon />\n            </IconButton>\n            <p>Profile</p>\n          </div>\n        </div>\n\n        <div className=\"drawerLeft__content\">\n          <div className=\"drawerLeft__content_photo\">\n            <div className=\"profilePhoto\">\n              <Zoom\n                in={drawerLeft}\n                style={{ transitionDelay: drawerLeft ? \"300ms\" : \"0ms\" }}\n              >\n                {photo ? (\n                  <Avatar src={photo} className=\"profilePhoto__layer_bottom\" />\n                ) : (\n                  <Avatar />\n                )}\n              </Zoom>\n              <div\n                className=\"profilePhoto__layer_top\"\n                onClick={handleProfileMenu}\n              >\n                <div className=\"profilePhoto__text\">\n                  <PhotoCameraIcon />\n                  <p>CHANGE</p>\n                  <p>PROFILE PHOTO</p>\n                </div>\n              </div>\n            </div>\n\n            <DropdownMenu\n              menuLists={menuLists}\n              menu={menuProfile}\n              handleMenuClose={handleProfileMenuClose}\n            />\n\n            <DialogCustom\n              open={showProfilePhoto}\n              close={viewPhotoClose}\n              photo={photo}\n              user={user}\n            />\n          </div>\n\n          <div className=\"profileMenu__diaglog\">\n            <Dialog\n              open={showDialogUpload}\n              onClose={handleDialogUploadClose}\n              aria-labelledby=\"form-dialog-title\"\n            >\n              <DialogTitle id=\"form-dialog-title-drawerLeft\">\n                Upload Photo\n              </DialogTitle>\n              <DialogContent id=\"form-dialog-content\">\n                <div className=\"profileMenu__uploadPhoto_dialog\">\n                  <img src={uploadPhotoLink} alt=\"\" />\n                </div>\n              </DialogContent>\n              <DialogActions>\n                <div className=\"profileMenu_uploadPhoto_iconButton\">\n                  <IconButton onClick={handleUploadPhoto}>\n                    <CheckIcon />\n                  </IconButton>\n                </div>\n              </DialogActions>\n            </Dialog>\n          </div>\n\n          <div className=\"drawerLeft__content_name\">\n            <p>Your Name</p>\n            <form>\n              {showEditName ? (\n                <>\n                  <input\n                    value={name}\n                    onChange={(e) => setName(e.target.value)}\n                    type=\"text\"\n                    styles={{ borderBottom: \"1px solid green !important\" }}\n                  />\n                  <CheckIcon onClick={updateName} />\n                </>\n              ) : (\n                <>\n                  <span>{name}</span>\n                  <EditIcon onClick={editName} />\n                </>\n              )}\n            </form>\n          </div>\n\n          <div className=\"drawerLeft__note\">\n            <span>\n              This is not your username or pin. This name will be visible to\n              your Tattle contacts.\n            </span>\n          </div>\n\n          <div className=\"drawerLeft__content_name\">\n            <p>About</p>\n            <form>\n              {showEditAbout ? (\n                <>\n                  <input\n                    value={about}\n                    onChange={(e) => setAbout(e.target.value)}\n                    type=\"text\"\n                  />\n                  <CheckIcon onClick={updateAbout} />\n                </>\n              ) : (\n                <>\n                  <span>{about}</span>\n                  <EditIcon onClick={editAbout} />\n                </>\n              )}\n            </form>\n          </div>\n        </div>\n      </Drawer>\n    </div>\n  );\n}\n\nexport default DrawerLeft;\n","import React, { useState } from 'react';\nimport SearchOutlinedIcon from '@material-ui/icons/SearchOutlined';\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\nimport './SearchBar.css';\n\nfunction SearchBar( { placeholder, setSearch, search } ) {\n    const [showArrowIcon, setShowArrowIcon] = useState(false);\n\n    const displaySearchIcon = () => {\n        setShowArrowIcon(false);\n    }\n    \n    const displayArrowIcon = () => {\n        setShowArrowIcon(true);\n    }\n\n    return (\n        <div className={`search ${showArrowIcon===true && \"search__bgColorChange\"}`}>\n            <div className=\"search__container\">\n                <span className={`${showArrowIcon===true?\"arroww\":''}`}>{showArrowIcon? <ArrowForwardIcon />:<SearchOutlinedIcon/>}</span>\n                <input \n                    value={search} \n                    onChange={e => setSearch(e.target.value)} \n                    type=\"text\" \n                    placeholder={placeholder} \n                    required\n                    onFocus={displayArrowIcon}\n                    onBlur={displaySearchIcon}\n                />\n            </div>\n        </div>\n    )\n}\n\nexport default SearchBar","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport PhotoCameraIcon from \"@material-ui/icons/PhotoCamera\";\nimport VideocamIcon from \"@material-ui/icons/Videocam\";\nimport db from \"../firebase\";\nimport \"./SidebarChat.css\";\n\nfunction SidebarChat({ id, name }) {\n  const [messages, setMessages] = useState([]);\n\n  useEffect(() => {\n    if (id) {\n      db.collection(\"rooms\")\n        .doc(id)\n        .collection(\"messages\")\n        .orderBy(\"timestamp\", \"desc\")\n        .onSnapshot((snapshot) =>\n          setMessages(snapshot.docs.map((doc) => doc.data()))\n        );\n    }\n  }, [id]);\n\n  return (\n    <Link to={`/rooms/${id}`} className=\"sidebarChat__link\">\n      <div className=\"sidebarChat\">\n        <Avatar>{name[0]}</Avatar>\n        <div className=\"sidebarChat__info\">\n          <h2>{name}</h2>\n          {messages[0]?.photo ? (\n            <div className=\"sideChat__photo\">\n              <PhotoCameraIcon /> <span>Photo</span>\n            </div>\n          ) : null}\n          {messages[0]?.video ? (\n            <div className=\"sideChat__photo\">\n              <VideocamIcon /> <span>Video</span>\n            </div>\n          ) : null}\n          <p>{messages[0]?.message}</p>\n          <p>{messages[0]?.url}</p>\n        </div>\n      </div>\n    </Link>\n  );\n}\n\nexport default SidebarChat;\n","import React, { useState, useEffect } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { useStateValue } from \"../StateProvider\";\n//importing firebase\nimport db from \"../firebase\";\nimport { auth, storage, firebase } from \"../firebase\";\n//importing components\nimport UserAvatar from \"./UserAvatar\";\nimport NewChat from \"./NewChat\";\nimport Status from \"./Status\";\nimport DropdownMenu from \"../shared/DropdownMenu\";\nimport DrawerLeft from \"./DrawerLeft\";\nimport SearchBar from \"../shared/SearchBar\";\nimport SidebarChat from \"./SidebarChat\";\nimport { toastInfo } from \"../shared/toastInfo\";\nimport TooltipCustom from \"../shared/TooltipCustom\";\n//importing material-ui\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\n//importing styles\nimport \"./Sidebar.css\";\n\nfunction Sidebar({ rooms, setIsRoomExist, isRoomExist }) {\n  const history = useHistory();\n  const { roomId } = useParams();\n  const [{ user }] = useStateValue();\n  const [search, setSearch] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [noRooms, setNoRooms] = useState(false);\n  const [drawerLeft, setDrawerLeft] = useState(false);\n  const [menuSidebar, setMenuSidebar] = useState(null);\n  const [isSearchFound, setIsSetSearchFound] = useState(false);\n\n  const findRoom = function (myRooms) {\n    return function (x) {\n      var searchRoom = x.data.name + \"\";\n      return (\n        searchRoom.toLowerCase().includes(myRooms.toLowerCase()) || !myRooms\n      );\n    };\n  };\n\n  useEffect(() => {\n    const roomResult = () => {\n      return (\n        <>\n          {rooms.filter(findRoom(search)).map((room) => (\n            <p key={room.id}>{room.name}</p>\n          ))}\n        </>\n      );\n    };\n\n    if (search) {\n      var result = roomResult();\n      if (result.props.children.length > 0) {\n        setIsSetSearchFound(true);\n      } else {\n        setIsSetSearchFound(false);\n      }\n    }\n\n    //checks if room exists, else will be redirect to landing screen\n    var roomList = rooms;\n    if (roomList) {\n      //checks if the current route(roomId) exists in roomList(array)\n      const index = roomList.findIndex(function (id, index) {\n        return id.id === roomId;\n      });\n\n      if (index >= 0) {\n        setIsRoomExist(index);\n        // console.log(\"ROOM EXISTS\");\n      } else if (index === -1) {\n        setIsRoomExist(index);\n        history.push(\"/\");\n        // console.log(\"ROOM DOES NOT EXIST\");\n      }\n    }\n  }, [search, rooms, roomId, history, setIsRoomExist]);\n\n  useEffect(() => {\n    if (rooms) {\n      if (rooms.length > 0) {\n        setNoRooms(false);\n        setLoading(true);\n      } else if (rooms.length === 0 && isRoomExist === -1) {\n        setNoRooms(true);\n        setLoading(true);\n      }\n    }\n  }, [isRoomExist, rooms]);\n\n  // console.log(\"ROOMS> >\", noRooms);\n  // console.log(\"ROOMS EXIST> >\", isRoomExist);\n\n  const handleDrawerLeftOpen = () => {\n    setMenuSidebar(null);\n    setDrawerLeft(true);\n  };\n\n  const handleMenuOpen = (event) => {\n    setMenuSidebar(event.currentTarget);\n  };\n\n  const handleMenuClose = () => {\n    setMenuSidebar(null);\n  };\n\n  const archive = () => {\n    const archive = \"archive\";\n    toastInfo(\"Archive is not yet available!\", archive, \"top-center\");\n  };\n\n  const starred = () => {\n    const starred = \"starred\";\n    toastInfo(\"Starred is not yet available!\", starred, \"top-center\");\n  };\n\n  const settings = () => {\n    const settings = \"settings\";\n    toastInfo(\"Settings is not yet available!\", settings, \"top-center\");\n  };\n\n  const logout = () => {\n    if (user.isAnonymous === true) {\n      auth.currentUser\n        .delete()\n        .then(function () {\n          history.push(\"/\");\n        })\n        .catch(function (error) {\n          // An error happened.\n          console.log(\"error deleting anonymous user\", error);\n        });\n    } else {\n      auth.signOut();\n    }\n  };\n\n  const menuLists = [\n    {\n      title: \"Profile\",\n      onClick: () => handleDrawerLeftOpen(),\n      id: Math.random() * 100000,\n    },\n    {\n      title: \"Archived\",\n      onClick: () => archive(),\n      id: Math.random() * 100000,\n    },\n    {\n      title: \"Starred\",\n      onClick: () => starred(),\n      id: Math.random() * 100000,\n    },\n    {\n      title: \"Settings\",\n      onClick: () => settings(),\n      id: Math.random() * 100000,\n    },\n    {\n      title: \"Logout\",\n      onClick: () => logout(),\n      id: Math.random() * 100000,\n    },\n  ];\n\n  return (\n    <div className=\"sidebar\">\n      <div className=\"sidebar__header\">\n        <UserAvatar\n          id=\"UserProfile\"\n          photoURL={user.photoURL}\n          onClick={() => handleDrawerLeftOpen()}\n        />\n        <DrawerLeft\n          drawerLeft={drawerLeft}\n          setDrawerLeft={setDrawerLeft}\n          db={db}\n          auth={auth}\n          storage={storage}\n        />\n\n        <div className=\"sidebar__headerRight\">\n          <Status />\n          <NewChat db={db} user={user} firebase={firebase} />\n          <TooltipCustom\n            name=\"Menu\"\n            icon={<MoreVertIcon />}\n            onClick={handleMenuOpen}\n          />\n          <DropdownMenu\n            menuLists={menuLists}\n            menu={menuSidebar}\n            handleMenuOpen={handleMenuOpen}\n            handleMenuClose={handleMenuClose}\n          />\n        </div>\n      </div>\n\n      <SearchBar\n        search={search}\n        setSearch={setSearch}\n        placeholder=\"Search or start new chat\"\n      />\n\n      <div className=\"sidebar__chats\">\n        {loading ? (\n          <>\n            {search ? (\n              <>\n                {isSearchFound ? (\n                  <div>\n                    {rooms.filter(findRoom(search)).map((room) => (\n                      <SidebarChat\n                        key={room.id}\n                        id={room.id}\n                        name={room.data.name}\n                      />\n                    ))}\n                  </div>\n                ) : (\n                  <div className=\"sidebar__chatsContainer_empty\">\n                    <span>No chat room found</span>\n                  </div>\n                )}\n              </>\n            ) : (\n              <>\n                {rooms.map((room) => (\n                  <SidebarChat\n                    key={room.id}\n                    id={room.id}\n                    name={room.data.name}\n                  />\n                ))}\n              </>\n            )}\n          </>\n        ) : (\n          <div className=\"sidebar__chatsContainer_loading\">\n            <div>\n              <CircularProgress />\n            </div>\n          </div>\n        )}\n\n        {noRooms && loading ? (\n          <div className=\"sidebar__chatsContainer_empty\">\n            <span>No chats</span>\n          </div>\n        ) : null}\n      </div>\n    </div>\n  );\n}\n\nexport default Sidebar;\n","import React from \"react\";\n//importing material-ui\nimport Drawer from \"@material-ui/core/Drawer\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n//importing styles\nimport \"./DrawerRight.css\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n  },\n  drawerPaper: {\n    [theme.breakpoints.only(\"xs\")]: {\n      width: \"100vw\",\n    },\n    [theme.breakpoints.up(\"sm\")]: {\n      position: \"absolute\",\n    },\n  },\n}));\n\nfunction DrawerRight({ content, drawerRight }) {\n  const classes = useStyles();\n\n  return (\n    <div>\n      <Drawer\n        anchor=\"right\"\n        variant=\"persistent\"\n        open={drawerRight}\n        classes={{ paper: classes.drawerPaper }}\n      >\n        {content}\n      </Drawer>\n    </div>\n  );\n}\n\nexport default DrawerRight;\n","import React, { useState, useEffect } from \"react\";\n//importing components\nimport SearchBar from \"../shared/SearchBar\";\n//importing material-ui\nimport DrawerRight from \"./DrawerRight\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Divider from \"@material-ui/core/Divider\";\n//importing material-ui-icons\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport DoneIcon from \"@material-ui/icons/Done\";\n//importing styles\nimport \"./DrawerRightSearch.css\";\n\nfunction DrawerRightSearch({\n  drawerRightSearch,\n  setDrawerRightSearch,\n  messages,\n  user,\n}) {\n  const [search, setSearch] = useState(\"\");\n  const [isFoundMessage, setIsFoundMessage] = useState(false);\n\n  const findMessage = function (myMessages) {\n    return function (x) {\n      var searchMessage = x.message + \"\" + x.caption;\n      return (\n        searchMessage.toLowerCase().includes(myMessages.toLowerCase()) ||\n        !myMessages\n      );\n    };\n  };\n\n  useEffect(() => {\n    const messageResult = () => {\n      return (\n        <>\n          {messages.filter(findMessage(search)).map((message) => (\n            <p key={message.id}>\n              {message.message}\n              {message.caption}\n            </p>\n          ))}\n        </>\n      );\n    };\n\n    if (search) {\n      var result = messageResult();\n      // console.log(\"result\", result.props.children)\n      if (result.props.children.length > 0) {\n        setIsFoundMessage(true);\n        console.log(\"search message sucess\");\n      } else {\n        setIsFoundMessage(false);\n        console.log(\"search message fail\");\n      }\n    }\n  }, [search, messages]);\n\n  const handleDrawerClose = () => {\n    setDrawerRightSearch(false);\n  };\n\n  return (\n    <div>\n      <DrawerRight\n        drawerRight={drawerRightSearch}\n        content={\n          <>\n            <div className=\"drawerRight__header\">\n              <IconButton onClick={handleDrawerClose}>\n                <CloseIcon />\n              </IconButton>\n              <p>Search Messages</p>\n            </div>\n\n            <SearchBar\n              search={search}\n              setSearch={setSearch}\n              placeholder=\"Search...\"\n            />\n\n            <div\n              className={`drawerRight__content ${\n                isFoundMessage === true &&\n                search.length > 0 &&\n                \"drawerRight__content_searched\"\n              }`}\n            >\n              {search.length > 0 ? (\n                <>\n                  {isFoundMessage ? (\n                    <>\n                      {messages.filter(findMessage(search)).map((message) => (\n                        <div\n                          key={message.id}\n                          className=\"drawerRight__content_searched_message\"\n                        >\n                          <p>\n                            {new Date(\n                              message.timestamp?.toDate()\n                            ).toLocaleTimeString(\"en-US\", {\n                              hour: \"numeric\",\n                              hour12: true,\n                              minute: \"numeric\",\n                            })}\n                            <br />\n                          </p>\n                          <p id=\"last_p\">\n                            {message.uid === user.uid ? <DoneIcon /> : null}\n                            {message.message}\n                            {message.caption}\n                          </p>\n                          <Divider />\n                        </div>\n                      ))}\n                    </>\n                  ) : (\n                    <p>No message found</p>\n                  )}\n                </>\n              ) : (\n                <p>Search for messages in this room.</p>\n              )}\n            </div>\n          </>\n        }\n      />\n    </div>\n  );\n}\n\nexport default DrawerRightSearch;\n","import React, { useState, useEffect } from \"react\";\n//importing components\nimport SearchBar from \"../shared/SearchBar\";\n//importing material-ui\nimport DrawerRight from \"./DrawerRight\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Zoom from \"@material-ui/core/Zoom\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Divider from \"@material-ui/core/Divider\";\n//importing material-ui-icons\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport DoneIcon from \"@material-ui/icons/Done\";\nimport PhotoCameraIcon from \"@material-ui/icons/PhotoCamera\";\nimport GroupIcon from \"@material-ui/icons/Group\";\n//importing styles\nimport \"./DrawerRightInfo.css\";\n\nfunction DrawerRightInfo({\n  drawerRightInfo,\n  setDrawerRightInfo,\n  messages,\n  user,\n}) {\n  const [search, setSearch] = useState(\"\");\n  const [isFoundMessage, setIsFoundMessage] = useState(false);\n\n  const findMessage = function (myMessages) {\n    return function (x) {\n      var searchMessage = x.message + \"\" + x.caption;\n      return (\n        searchMessage.toLowerCase().includes(myMessages.toLowerCase()) ||\n        !myMessages\n      );\n    };\n  };\n\n  useEffect(() => {\n    const messageResult = () => {\n      return (\n        <>\n          {messages.filter(findMessage(search)).map((message) => (\n            <p key={message.id}>\n              {message.message}\n              {message.caption}\n            </p>\n          ))}\n        </>\n      );\n    };\n\n    if (search) {\n      var result = messageResult();\n      // console.log(\"result\", result.props.children)\n      if (result.props.children.length > 0) {\n        setIsFoundMessage(true);\n        console.log(\"search message sucess\");\n      } else {\n        setIsFoundMessage(false);\n        console.log(\"search message fail\");\n      }\n    }\n  }, [search, messages]);\n\n  const handleDrawerClose = () => {\n    setDrawerRightInfo(false);\n  };\n\n  return (\n    <div>\n      <DrawerRight\n        drawerRight={drawerRightInfo}\n        content={\n          <>\n            <div className=\"drawer-right-info__header\">\n              <IconButton onClick={handleDrawerClose}>\n                <CloseIcon />\n              </IconButton>\n              <p>Group Info</p>\n            </div>\n            <div className=\"drawer-right-info-content\">\n              <div className=\"drawer-right-info-content__photo\">\n                <div className=\"profilePhoto\">\n                  <Zoom\n                    in={drawerRightInfo}\n                    style={{\n                      transitionDelay: drawerRightInfo ? \"300ms\" : \"0ms\",\n                    }}\n                  >\n                    {/* {photo ? (\n                      <Avatar\n                        src={photo}\n                        className=\"profilePhoto__layer_bottom\"\n                      />\n                    ) : (\n                      <Avatar />\n                    )} */}\n                    {/* <Avatar /> */}\n                    <Avatar>\n                      <GroupIcon />\n                    </Avatar>\n                  </Zoom>\n                  <div\n                    className=\"profilePhoto__layer_top\"\n                    // onClick={handleProfileMenu}\n                  >\n                    <div className=\"profilePhoto__text\">\n                      <PhotoCameraIcon />\n                      <p>CHANGE</p>\n                      <p>PROFILE PHOTO</p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </>\n        }\n      />\n    </div>\n  );\n}\n\nexport default DrawerRightInfo;\n","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useStateValue } from \"../StateProvider\";\n//importing components\nimport DropdownMenu from \"../shared/DropdownMenu\";\nimport DrawerRightSearch from \"./DrawerRightSearch\";\nimport DrawerRightInfo from \"./DrawerRightInfo\";\nimport TooltipCustom from \"../shared/TooltipCustom\";\nimport { toastInfo } from \"../shared/toastInfo\";\n//importing material-ui\nimport Hidden from \"@material-ui/core/Hidden\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport IconButton from \"@material-ui/core/IconButton\";\n//importing material-ui-icons\nimport SearchOutlinedIcon from \"@material-ui/icons/SearchOutlined\";\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\n//importing styles\nimport \"./ChatHeader.css\";\n\nfunction ChatHeader({\n  roomCreatedBy,\n  roomOwner,\n  roomName,\n  roomId,\n  _roomId,\n  messages,\n  db,\n  history,\n  isRoomExist,\n}) {\n  const [{ user }] = useStateValue();\n  const [drawerRightSearch, setDrawerRightSearch] = useState(false);\n  const [drawerRightInfo, setDrawerRightInfo] = useState(false);\n  const [menuChat, setMenuChat] = useState(null);\n  const [role, setRole] = useState(\"\");\n  const [showDate, setShowDate] = useState(false);\n  const [isLastMessage, setIsLastMessage] = useState(false);\n\n  useEffect(() => {\n    const errorAbout = \"errorAbout\";\n    if (user.uid) {\n      db.collection(\"users\")\n        .doc(user.uid)\n        .get()\n        .then(function (doc) {\n          if (doc.exists) {\n            setRole(doc.data().role);\n          }\n        })\n        .catch(function (error) {\n          toastInfo(`${error}`, errorAbout, \"top-center\");\n        });\n    }\n\n    if (messages[messages.length - 1]?.timestamp) {\n      setShowDate(true);\n    } else {\n      setShowDate(false);\n    }\n\n    if (messages[messages.length - 1]) {\n      setIsLastMessage(true);\n    } else {\n      setIsLastMessage(false);\n    }\n\n    //listens when room is changed, then it closes DrawerRight\n    if (isRoomExist >= 0) {\n      setDrawerRightInfo(false);\n      setDrawerRightSearch(false);\n    }\n  }, [\n    user.uid,\n    user.displayName,\n    user.isAnonymous,\n    db,\n    messages,\n    roomId,\n    isRoomExist,\n  ]);\n\n  // console.log(\"ROOOM ID\", roomId);\n  // console.log(\"__ROOOM ID\", _roomId);\n\n  const getDateFromMessage = () => {\n    return new Date(\n      messages[messages.length - 1]?.timestamp?.toDate()\n    ).toLocaleTimeString([], {\n      weekday: \"long\",\n      year: \"numeric\",\n      month: \"long\",\n      day: \"numeric\",\n      hour: \"numeric\",\n      hour12: true,\n      minute: \"numeric\",\n    });\n  };\n\n  const getDateLocal = () => {\n    return new Date().toLocaleTimeString([], {\n      weekday: \"long\",\n      year: \"numeric\",\n      month: \"long\",\n      day: \"numeric\",\n      hour: \"numeric\",\n      hour12: true,\n      minute: \"numeric\",\n    });\n  };\n\n  const searchMessage = () => {\n    setDrawerRightSearch(true);\n  };\n\n  const contactInfo = () => {\n    setDrawerRightInfo(true);\n    setMenuChat(null);\n  };\n\n  const selectMessages = () => {\n    const selectMessages = \"selectMessages\";\n    toastInfo(\n      \"Select Messages is not yet  available!\",\n      selectMessages,\n      \"top-center\"\n    );\n  };\n\n  const muteNotifications = () => {\n    const muteNotifications = \"muteNotifications\";\n    toastInfo(\n      \"Mute Notifications is not yet available!\",\n      muteNotifications,\n      \"top-center\"\n    );\n  };\n\n  const clearMessages = () => {\n    const clearMessages = \"clearMessages\";\n    toastInfo(\n      \"Clear Messages is not yet available!\",\n      clearMessages,\n      \"top-center\"\n    );\n  };\n\n  const deleteRoom = () => {\n    const roomDeleted = \"roomDeleted\";\n\n    if (roomOwner === user.uid || role === \"admin\") {\n      db.collection(\"rooms\")\n        .doc(roomId)\n        .delete()\n        .then(function () {\n          toastInfo(\"Room successfully deleted!\", roomDeleted, \"top-center\");\n        })\n        .catch(function (error) {\n          toastInfo(`Error removing room! ${error}`, roomDeleted, \"top-center\");\n        });\n      history.push(\"/\");\n    } else {\n      toastInfo(\n        `You are not allowed to delete room ${roomName}. Only the admin or room owner ${roomCreatedBy}`,\n        roomDeleted,\n        \"top-center\"\n      );\n    }\n  };\n\n  const handleMenuClose = () => {\n    setMenuChat(null);\n  };\n\n  const handleMenuOpen = (event) => {\n    setMenuChat(event.currentTarget);\n  };\n\n  const menuChatLists = [\n    {\n      title: \"Contact info\",\n      onClick: () => contactInfo(),\n      id: Math.random() * 100000,\n    },\n    {\n      title: \"Select messages\",\n      onClick: () => selectMessages(),\n      id: Math.random() * 100000,\n    },\n    {\n      title: \"Mute notifications\",\n      onClick: () => muteNotifications(),\n      id: Math.random() * 100000,\n    },\n    {\n      title: \"Clear messages\",\n      onClick: () => clearMessages(),\n      id: Math.random() * 100000,\n    },\n    {\n      title: \"Delete Room\",\n      onClick: () => deleteRoom(),\n      id: Math.random() * 100000,\n    },\n  ];\n\n  return (\n    <div className=\"chat__header\">\n      <DrawerRightSearch\n        drawerRightSearch={drawerRightSearch}\n        setDrawerRightSearch={setDrawerRightSearch}\n        roomId={roomId}\n        messages={messages}\n        db={db}\n        user={user}\n      />\n\n      <DrawerRightInfo\n        drawerRightInfo={drawerRightInfo}\n        setDrawerRightInfo={setDrawerRightInfo}\n        roomId={roomId}\n        messages={messages}\n        db={db}\n        user={user}\n      />\n\n      <Hidden smUp>\n        <Link to=\"/\">\n          <div className=\"chat__back_button\">\n            <IconButton>\n              <ArrowBackIcon />\n            </IconButton>\n          </div>\n        </Link>\n      </Hidden>\n\n      <Avatar>{roomName[0]}</Avatar>\n      <div className=\"chat__headerInfo\">\n        <h3>{roomName}</h3>\n\n        {isLastMessage ? (\n          <>\n            {showDate ? (\n              <p>Last seen {getDateFromMessage()}</p>\n            ) : (\n              <p>Last seen {getDateLocal()}</p>\n            )}\n          </>\n        ) : null}\n      </div>\n\n      <div className=\"chat__headerRight\">\n        <TooltipCustom\n          name=\"Search\"\n          icon={<SearchOutlinedIcon />}\n          onClick={searchMessage}\n        />\n        <TooltipCustom\n          name=\"Menu\"\n          icon={<MoreVertIcon />}\n          onClick={handleMenuOpen}\n        />\n        <DropdownMenu\n          menuLists={menuChatLists}\n          menu={menuChat}\n          handleMenuOpen={handleMenuOpen}\n          handleMenuClose={handleMenuClose}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default ChatHeader;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport ReactPlayer from \"react-player\";\n// importing component\n//importing material-ui-icon\nimport NoEncryptionIcon from \"@material-ui/icons/NoEncryption\";\nimport AlarmIcon from \"@material-ui/icons/Alarm\";\nimport DoneIcon from \"@material-ui/icons/Done\";\n//importing styles\nimport \"./ChatBody.css\";\n\nfunction ChatBody({\n  roomOwner,\n  roomCreatedBy,\n  messages,\n  user,\n  roomId,\n  isRoomExist,\n}) {\n  const messagesEndRef = useRef(null);\n  const [playing, setPlaying] = useState(false);\n\n  useEffect(() => {\n    //listens when room is changed, then it sets playing to false\n    if (isRoomExist >= 0) {\n      setPlaying(false);\n    }\n  }, [isRoomExist]);\n\n  const handlePlay = () => {\n    setPlaying(true);\n  };\n\n  const handlePause = () => {\n    setPlaying(false);\n  };\n\n  const scrollToBottom = () => {\n    if (roomId) {\n      messagesEndRef.current.scrollIntoView({ behavior: \"auto\" });\n    }\n  };\n  useEffect(scrollToBottom, [messages, roomId]);\n\n  return (\n    <div>\n      <p className=\"chat__message_reminder\">\n        <NoEncryptionIcon /> Welcome to Tattle. Messages are not\n        encrpyted.\n      </p>\n      <p className=\"chat__message_reminder chat__createdBy\">\n        {roomOwner === user.uid\n          ? \"You created this group\"\n          : `${roomCreatedBy} created this group`}\n      </p>\n\n      {messages.map((message) => (\n        <div\n          key={message.id}\n          className={`chat__message \n                    ${message.uid === user.uid && \"chat__sender\"} \n                    ${message.photo && \"chat__message_media_image\"}\n                    ${message.video && \"chat__message_media_video\"}\n                    ${\n                      message.video &&\n                      !message.caption &&\n                      \"chat__message_media_video_noCaption\"\n                    } `}\n        >\n          <span\n            className={`chat__name ${\n              message.uid === user.uid && \"chat__name_sender\"\n            }`}\n          >\n            {message.name}\n          </span>\n\n          <div className=\"chat__body_image_container\">\n            {message.photo ? (\n              <>\n                <img\n                  alt=\"\"\n                  className=\"chat__body_image\"\n                  src={message.photo}\n                />\n              </>\n            ) : null}\n          </div>\n\n          <div className=\"chat__body_video_container\">\n            {message.video ? (\n              <>\n                <div className=\"player-wrapper\">\n                  <ReactPlayer\n                    className=\"react-player\"\n                    width=\"100%\"\n                    height=\"100%\"\n                    url={message.video}\n                    controls={true}\n                    onPlay={handlePlay}\n                    onPause={handlePause}\n                    onEnded={handlePause}\n                  />\n                </div>\n              </>\n            ) : null}\n          </div>\n\n          <div className=\"chat__message_box\">\n            <div\n              className={`chat__message_box_text ${\n                message.uid === user.uid && \"chat__message_box_text_sender\"\n              }\n              ${\n                message.photo &&\n                !message.caption &&\n                \"chat__message_box_text_no_caption\"\n              } `}\n            >\n              {message.message ? message.message : null}\n              {message.caption ? message.caption : null}\n              {message.url ? (\n                <a\n                  target=\"_blank\"\n                  href={`${message.url}`}\n                  rel=\"noopener noreferrer\"\n                >\n                  {message.url}\n                </a>\n              ) : null}\n\n              <div\n                className={`chat__timestamp_container ${\n                  message.uid === user.uid && \"chat__timestamp_container_sender\"\n                }`}\n              >\n                {message.timestamp ? (\n                  <div\n                    className={`chat__timestamp \n                                    ${\n                                      message.photo &&\n                                      !message.caption &&\n                                      \"chat__timestamp_media_photo\"\n                                    }  \n                                    ${\n                                      message.video &&\n                                      !message.caption &&\n                                      \"chat__timestamp_media_video\"\n                                    }\n                                    ${\n                                      message.video &&\n                                      !message.caption &&\n                                      playing === true &&\n                                      \"chat__timestamp_media_displayNone\"\n                                    }`}\n                  >\n                    <span>\n                      {new Date(message.timestamp.toDate()).toLocaleTimeString(\n                        \"en-US\",\n                        {\n                          hour: \"numeric\",\n                          hour12: true,\n                          minute: \"numeric\",\n                        }\n                      )}\n                      {message.uid === user.uid ? <DoneIcon /> : null}\n                    </span>\n                  </div>\n                ) : (\n                  <div className=\"chat__timestamp\">\n                    <span>\n                      {new Date().toLocaleTimeString(\"en-US\", {\n                        hour: \"numeric\",\n                        hour12: true,\n                        minute: \"numeric\",\n                      })}\n                      {message.uid === user.uid ? <AlarmIcon /> : null}\n                    </span>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      ))}\n      {/* it will automatically scroll drown everytime the user enters new chat message */}\n      <div ref={messagesEndRef} />\n    </div>\n  );\n}\n\nexport default ChatBody;\n","import React, { useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useStateValue } from \"../StateProvider\";\nimport ReactPlayer from \"react-player\";\n//importing material-ui\nimport Fab from \"@material-ui/core/Fab\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n//importing material-ui-icons\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport SendIcon from \"@material-ui/icons/Send\";\n//importing styles\nimport \"./DrawerBottom.css\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n  },\n  drawerPaper: {\n    position: \"absolute\",\n    width: \"100%\",\n  },\n  paperAnchorBottom: {\n    left: \"auto\",\n    right: 0,\n    bottom: 0,\n    maxHeight: \"100%\",\n    [theme.breakpoints.up(\"xs\")]: {\n      top: 52,\n    },\n    [theme.breakpoints.up(\"sm\")]: {\n      top: 65,\n    },\n    [theme.breakpoints.up(\"md\")]: {\n      top: 65,\n    },\n    [theme.breakpoints.up(\"lg\")]: {\n      top: 65,\n    },\n  },\n}));\n\nfunction DrawerBottom({\n  drawerBottom,\n  setDrawerBottom,\n  fileImageUrl,\n  fileVideoUrl,\n  setFileVideoUrl,\n  setFileImageUrl,\n  firebase,\n  db,\n  storage,\n}) {\n  const classes = useStyles();\n  const [{ user }] = useStateValue();\n  const [caption, setCaption] = useState(\"\");\n  const { roomId } = useParams();\n\n  const handleUpload = (e) => {\n    e.preventDefault();\n    if (fileImageUrl) {\n      db.collection(\"rooms\")\n        .doc(roomId)\n        .collection(\"messages\")\n        .add({\n          photo: fileImageUrl,\n          name: user.displayName,\n          uid: user.uid,\n          caption: caption,\n          timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n        })\n        .then(function (docRef) {\n          db.collection(\"rooms\")\n            .doc(roomId)\n            .collection(\"messages\")\n            .doc(docRef.id)\n            .set(\n              {\n                id: docRef.id,\n              },\n              { merge: true }\n            );\n        })\n        .catch(function (error) {\n          console.error(\"Error adding document: \", error);\n        });\n      setFileImageUrl(null);\n    }\n    if (fileVideoUrl) {\n      db.collection(\"rooms\")\n        .doc(roomId)\n        .collection(\"messages\")\n        .add({\n          video: fileVideoUrl,\n          name: user.displayName,\n          uid: user.uid,\n          caption: caption,\n          timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n        })\n        .then(function (docRef) {\n          db.collection(\"rooms\")\n            .doc(roomId)\n            .collection(\"messages\")\n            .doc(docRef.id)\n            .set(\n              {\n                id: docRef.id,\n              },\n              { merge: true }\n            );\n        })\n        .catch(function (error) {\n          console.error(\"Error adding document: \", error);\n        });\n      setFileVideoUrl(null);\n    }\n    setCaption(\"\");\n    setDrawerBottom(false);\n  };\n\n  const handleDrawerClose = () => {\n    setDrawerBottom(false);\n  };\n\n  return (\n    <div>\n      <Drawer\n        variant=\"persistent\"\n        anchor=\"bottom\"\n        open={drawerBottom}\n        classes={{\n          paper: classes.drawerPaper,\n          paperAnchorBottom: classes.paperAnchorBottom,\n        }}\n      >\n        <div className=\"drawerBottom__header\">\n          <div className=\"drawerBottom__header_container\">\n            <IconButton onClick={handleDrawerClose}>\n              <CloseIcon />\n            </IconButton>\n            <p>Preview</p>\n          </div>\n        </div>\n\n        <div className=\"drawerBottom__content\">\n          <div className=\"drawerBottom__content_photo\">\n            {fileImageUrl ? (\n              <img src={fileImageUrl} alt=\"\" />\n            ) : (\n              <div className=\"drawerBottom__content_video\">\n                <div className=\"player-wrapper\">\n                  <ReactPlayer\n                    className=\"react-player\"\n                    width=\"100%\"\n                    height=\"50%\"\n                    url={fileVideoUrl}\n                    controls={true}\n                  />\n                </div>\n              </div>\n            )}\n          </div>\n          <div className=\"drawerBottom__content_caption\">\n            <input\n              type=\"text\"\n              placeholder=\"Add a caption...\"\n              value={caption}\n              onChange={(e) => setCaption(e.target.value)}\n            />\n            <Fab\n              color=\"primary\"\n              aria-label=\"send\"\n              size=\"large\"\n              onClick={handleUpload}\n            >\n              <div className=\"chat__icon\">\n                <SendIcon />\n              </div>\n            </Fab>\n          </div>\n        </div>\n\n        <div className=\"drawerBottom__footer\">\n          <div>{fileImageUrl ? <img src={fileImageUrl} alt=\"\" /> : null}</div>\n        </div>\n      </Drawer>\n    </div>\n  );\n}\n\nexport default DrawerBottom;\n","import React, { useState } from \"react\";\nimport { useStateValue } from \"../StateProvider\";\nimport { toastInfo } from \"../shared/toastInfo\";\n//importing components\nimport DrawerBottom from \"./DrawerBottom\";\nimport TooltipCustom from \"../shared/TooltipCustom\";\nimport { Picker } from \"emoji-mart\";\n//importing material-ui\nimport Hidden from \"@material-ui/core/Hidden\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Fab from \"@material-ui/core/Fab\";\nimport Slide from \"@material-ui/core/Slide\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\n//importing material-ui-icons\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport InsertEmoticonIcon from \"@material-ui/icons/InsertEmoticon\";\nimport MicIcon from \"@material-ui/icons/Mic\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\nimport InsertDriveFileIcon from \"@material-ui/icons/InsertDriveFile\";\nimport PhotoIcon from \"@material-ui/icons/Photo\";\nimport CameraAltIcon from \"@material-ui/icons/CameraAlt\";\nimport VideoCallIcon from \"@material-ui/icons/VideoCall\";\nimport PersonIcon from \"@material-ui/icons/Person\";\n//importing styles\nimport \"emoji-mart/css/emoji-mart.css\";\nimport \"./ChatFooter.css\";\n\nconst attachFileLists = [\n  {\n    title: \"Room\",\n    icon: <VideoCallIcon />,\n    id: Math.random() * 100000,\n  },\n  {\n    title: \"Contact\",\n    icon: <PersonIcon />,\n    id: Math.random() * 100000,\n  },\n  {\n    title: \"Document\",\n    icon: <InsertDriveFileIcon />,\n    id: Math.random() * 100000,\n  },\n  {\n    title: \"Camera\",\n    icon: <CameraAltIcon />,\n    id: Math.random() * 100000,\n  },\n  {\n    title: \"Photos & Videos\",\n    icon: <PhotoIcon />,\n    id: Math.random() * 100000,\n  },\n];\n\nfunction ChatFooter({ roomName, roomId, db, firebase, storage }) {\n  const [{ user }] = useStateValue();\n  const [input, setInput] = useState(\"\");\n  const [emoji, setEmoji] = useState(false);\n  const [fileImageUrl, setFileImageUrl] = useState(null);\n  const [fileVideoUrl, setFileVideoUrl] = useState(null);\n  const [drawerBottom, setDrawerBottom] = useState(false);\n  const [showAttachFile, setShowAttachFile] = useState(false);\n\n  const attachFile = () => {\n    const attachToastId = \"attach\";\n    toastInfo(\n      \"All icons have the same functions, you can only upload images, gifs and videos!\",\n      attachToastId,\n      \"top-center\"\n    );\n    if (showAttachFile === false) {\n      setShowAttachFile(true);\n    } else {\n      setShowAttachFile(false);\n    }\n  };\n\n  const addEmoji = (e) => {\n    let emoji = e.native;\n    setInput(input + emoji);\n  };\n\n  const handleEmoticons = () => {\n    setEmoji(true);\n  };\n\n  const handleEmoticonsClose = () => {\n    setEmoji(false);\n  };\n\n  const voiceMessage = () => {\n    const voiceMessageToastId = \"voiceMessage\";\n    toastInfo(\n      \"Voice Message is not yet available!\",\n      voiceMessageToastId,\n      \"top-center\"\n    );\n  };\n\n  const onFileChange = async (e) => {\n    const fileSizeToastId = \"fileSizeToastId\";\n    const file = e.target.files[0];\n    if (file.size > 12 * 1024 * 1024) {\n      toastInfo(\n        \"File should not exceed more than 12MB\",\n        fileSizeToastId,\n        \"top-center\"\n      );\n    } else {\n      const storageRef = storage.ref();\n      if (file.type.match(\"image.*\")) {\n        const imagesRef = storageRef.child(`rooms/${roomName}/images/`);\n        const fileRef = imagesRef.child(new Date().getTime() + \" \" + file.name);\n        await fileRef.put(file);\n        setFileImageUrl(await fileRef.getDownloadURL());\n        console.log(\"uploading image\", fileImageUrl);\n      } else if (file.type.match(\"video.*\")) {\n        const videosRef = storageRef.child(`rooms/${roomName}/videos`);\n        const fileRef = videosRef.child(new Date().getTime() + \" \" + file.name);\n        await fileRef.put(file);\n        setFileVideoUrl(await fileRef.getDownloadURL());\n        console.log(\"uploading video\", fileVideoUrl);\n      }\n      setDrawerBottom(true);\n    }\n  };\n\n  const handleClickAway = () => {\n    setShowAttachFile(false);\n  };\n\n  const onEnterPress = (e) => {\n    if (e.keyCode === 13 && e.shiftKey === false) {\n      e.preventDefault();\n\n      const youtubeLink = /^((?:https?:)?\\/\\/)?((?:www|m)\\.)?((?:youtube\\.com|youtu.be))(\\/(?:[\\w\\\\-]+\\?v=|embed\\/|v\\/)?)([\\w\\\\-]+)(\\S+)?$/;\n      const facebookVideoLink = /^https?:\\/\\/www\\.facebook\\.com.*\\/(video(s)?|watch|story)(\\.php?|\\/).+$/;\n      const vimeoLink = /(http|https)?:\\/\\/(www\\.|player\\.)?vimeo\\.com\\/(?:channels\\/(?:\\w+\\/)?|groups\\/([^\\\\/]*)\\/videos\\/|video\\/|)(\\d+)(?:|\\/\\?)/;\n      const soundcloudLink = /^https?:\\/\\/(soundcloud\\.com|snd\\.sc)\\/(.*)$/;\n      const dailymotionLink = /^.+dailymotion.com\\/(video|hub)\\/([^_]+)[^#]*(#video=([^_&]+))?/;\n      const urlLink = /^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\\\.-]+)+[\\w\\-\\\\._~:/?#[\\]@!\\\\$&'\\\\(\\\\)\\\\*\\\\+,;=.]+$/;\n\n      if (roomId) {\n        if (\n          youtubeLink.test(input) ||\n          facebookVideoLink.test(input) ||\n          vimeoLink.test(input) ||\n          soundcloudLink.test(input) ||\n          dailymotionLink.test(input)\n        ) {\n          db.collection(\"rooms\")\n            .doc(roomId)\n            .collection(\"messages\")\n            .add({\n              message: \"\",\n              video: input,\n              name: user.displayName,\n              uid: user.uid,\n              timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n            })\n            .then(function (docRef) {\n              console.log(\"Document written with ID: \", docRef.id);\n              db.collection(\"rooms\")\n                .doc(roomId)\n                .collection(\"messages\")\n                .doc(docRef.id)\n                .set(\n                  {\n                    id: docRef.id,\n                  },\n                  { merge: true }\n                );\n            })\n            .catch(function (error) {\n              console.error(\"Error adding document: \", error);\n            });\n        } else if (urlLink.test(input)) {\n          db.collection(\"rooms\")\n            .doc(roomId)\n            .collection(\"messages\")\n            .add({\n              message: \"\",\n              url: input,\n              name: user.displayName,\n              uid: user.uid,\n              timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n            })\n            .then(function (docRef) {\n              console.log(\"Document written with ID: \", docRef.id);\n              db.collection(\"rooms\")\n                .doc(roomId)\n                .collection(\"messages\")\n                .doc(docRef.id)\n                .set(\n                  {\n                    id: docRef.id,\n                  },\n                  { merge: true }\n                );\n            })\n            .catch(function (error) {\n              console.error(\"Error adding document: \", error);\n            });\n        } else if (/\\S/.test(input)) {\n          db.collection(\"rooms\")\n            .doc(roomId)\n            .collection(\"messages\")\n            .add({\n              message: input,\n              name: user.displayName,\n              uid: user.uid,\n              timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n            })\n            .then(function (docRef) {\n              db.collection(\"rooms\")\n                .doc(roomId)\n                .collection(\"messages\")\n                .doc(docRef.id)\n                .set(\n                  {\n                    id: docRef.id,\n                  },\n                  { merge: true }\n                );\n            })\n            .catch(function (error) {\n              console.error(\"Error adding document: \", error);\n            });\n        }\n      }\n      setInput(\"\");\n      setEmoji(false);\n    }\n  };\n\n  return (\n    <div className=\"chat__footer\">\n      <DrawerBottom\n        drawerBottom={drawerBottom}\n        setDrawerBottom={setDrawerBottom}\n        fileVideoUrl={fileVideoUrl}\n        fileImageUrl={fileImageUrl}\n        setFileImageUrl={setFileImageUrl}\n        setFileVideoUrl={setFileVideoUrl}\n        roomId={roomId}\n        db={db}\n        firebase={firebase}\n        storage={storage}\n      />\n\n      {emoji ? (\n        <Hidden only={[\"xs\"]}>\n          <TooltipCustom\n            name=\"Close\"\n            icon={<CloseIcon />}\n            onClick={() => handleEmoticonsClose()}\n          />\n        </Hidden>\n      ) : null}\n\n      <TooltipCustom\n        name=\"Emoticons\"\n        icon={<InsertEmoticonIcon />}\n        onClick={() => handleEmoticons()}\n      />\n\n      {emoji ? (\n        <>\n          <Hidden only={[\"xs\"]}>\n            <Picker onSelect={addEmoji} />\n          </Hidden>\n          <Hidden smUp>\n            <ClickAwayListener onClickAway={handleEmoticonsClose}>\n              <Picker onSelect={addEmoji} />\n            </ClickAwayListener>\n          </Hidden>\n        </>\n      ) : null}\n\n      <div>\n        <TooltipCustom\n          name=\"Attach\"\n          icon={<AttachFileIcon />}\n          onClick={attachFile}\n        />\n        {showAttachFile ? (\n          <ClickAwayListener onClickAway={handleClickAway}>\n            <div className=\"chat__attachFile\">\n              {attachFileLists.map((attachFileList) => (\n                <Slide\n                  key={attachFileList.id}\n                  direction=\"up\"\n                  in={attachFile}\n                  mountOnEnter\n                  unmountOnExit\n                >\n                  <Tooltip\n                    title={\n                      <span\n                        style={{ fontSize: \"14px\", padding: \"8px 5px 8px 5px\" }}\n                      >\n                        {attachFileList.title}\n                      </span>\n                    }\n                    placement=\"left\"\n                  >\n                    <Fab color=\"primary\" aria-label=\"person\">\n                      <div className=\"chat__icon\">\n                        <label htmlFor=\"file-input\">\n                          {attachFileList.icon}\n                        </label>\n                        <input\n                          id=\"file-input\"\n                          type=\"file\"\n                          onChange={onFileChange}\n                          accept=\"image/*,video/mp4,video/3gpp,video/quicktime\"\n                        />\n                      </div>\n                    </Fab>\n                  </Tooltip>\n                </Slide>\n              ))}\n            </div>\n          </ClickAwayListener>\n        ) : null}\n      </div>\n\n      <form>\n        <textarea\n          required\n          value={input}\n          onChange={(e) => setInput(e.target.value)}\n          placeholder=\"Type a message\"\n          type=\"text\"\n          rows=\"1\"\n          onKeyDown={onEnterPress}\n        />\n      </form>\n\n      <TooltipCustom\n        name=\"Voice Message\"\n        icon={<MicIcon />}\n        onClick={() => voiceMessage()}\n      />\n    </div>\n  );\n}\n\nexport default ChatFooter;\n","import React from \"react\";\nimport LaptopIcon from \"@material-ui/icons/Laptop\";\nimport Divider from \"@material-ui/core/Divider\";\nimport \"./ChatLandingScreen.css\";\nimport Zoom from \"@material-ui/core/Zoom\";\n\nfunction ChatLandingScreen({ showLandingScreenPhoto }) {\n  return (\n    <div className=\"chat-landing-screen\">\n      <div>\n        <Zoom\n          in={showLandingScreenPhoto}\n          style={{ transitionDelay: showLandingScreenPhoto ? \"300ms\" : \"0ms\" }}\n        >\n          <img\n            className=\"chat-landing-screen__photo\"\n            src=\"https://firebasestorage.googleapis.com/v0/b/tattle-9359.appspot.com/o/Folder%2Flogo.png?alt=media&token=21118386-5406-44a2-988e-0644a08c5b83\"\n            alt=\"TattleLogo\"\n          />\n        </Zoom>\n      </div>\n\n      <div className=\"chat-landing-screen__title\">\n        <p>Keeps you Connected</p>\n      </div>\n\n      <div>\n        <p>\n        Tattle is driven by a fascination for mobile technology that was once viewed as a passing trend.\n        </p>\n      </div>\n\n      <Divider />\n\n      <div className=\"chat-landing-screen__footer\">\n        <LaptopIcon />\n        <p>Tattle is available for Windows.</p>\n        <a\n          target=\"_blank\"\n          href=\"https://tattle-9359.web.app\"\n          rel=\"noopener noreferrer\"\n        >\n          Get it here.\n        </a>\n      </div>\n    </div>\n  );\n}\n\nexport default ChatLandingScreen;\n","import React, { useEffect, useState } from \"react\";\nimport { useStateValue } from \"../StateProvider\";\nimport { useHistory, useParams } from \"react-router-dom\";\n//importing firebase\nimport { storage, firebase } from \"../firebase\";\nimport db from \"../firebase\";\n//importing components\nimport ChatHeader from \"./ChatHeader\";\nimport ChatBody from \"./ChatBody\";\nimport ChatFooter from \"./ChatFooter\";\nimport ChatLandingScreen from \"./ChatLandingScreen\";\n//importing material-ui\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n//importing styles\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"./Chat.css\";\n\nfunction Chat({ isRoomExist }) {\n  const history = useHistory();\n  const [{ user }] = useStateValue();\n  const { roomId } = useParams();\n  const [_roomId, set_RoomId] = useState(\"\");\n  const [roomName, setRoomName] = useState(\"\");\n  const [roomCreatedBy, setRoomCreatedBy] = useState(\"\");\n  const [roomOwner, setRoomOwner] = useState(\"\");\n  const [messages, setMessages] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [showLandingScreenPhoto, setShowLandingScreenPhoto] = useState(false);\n\n  useEffect(() => {\n    if (roomId) {\n      db.collection(\"rooms\")\n        .doc(roomId)\n        .onSnapshot(function (doc) {\n          setRoomName(doc.data()?.name);\n          setRoomCreatedBy(doc.data()?.createdBy);\n          setRoomOwner(doc.data()?.roomOwner);\n          set_RoomId(doc.data()?.id);\n        });\n\n      db.collection(\"rooms\")\n        .doc(roomId)\n        .collection(\"messages\")\n        .orderBy(\"timestamp\", \"asc\")\n        .onSnapshot(function (doc) {\n          setMessages(doc.docs.map((doc) => doc.data()));\n          setLoading(true);\n        });\n\n      setShowLandingScreenPhoto(false);\n    } else {\n      setShowLandingScreenPhoto(true);\n      history.push(\"/\");\n    }\n  }, [roomId, history]);\n\n  return (\n    <div className=\"chat\">\n      {roomId ? (\n        <>\n          <div>\n            <ChatHeader\n              roomCreatedBy={roomCreatedBy}\n              roomOwner={roomOwner}\n              roomName={roomName}\n              roomId={roomId}\n              _roomId={_roomId}\n              messages={messages}\n              db={db}\n              history={history}\n              isRoomExist={isRoomExist}\n            />\n          </div>\n\n          <div className=\"chat__body\">\n            {loading ? (\n              <ChatBody\n                roomCreatedBy={roomCreatedBy}\n                roomOwner={roomOwner}\n                roomId={roomId}\n                messages={messages}\n                user={user}\n                isRoomExist={isRoomExist}\n              />\n            ) : (\n              <div className=\"chat__body_loading\">\n                <div>\n                  <CircularProgress />\n                </div>\n              </div>\n            )}\n          </div>\n\n          <div>\n            <ChatFooter\n              roomName={roomName}\n              roomId={roomId}\n              db={db}\n              firebase={firebase}\n              storage={storage}\n            />\n          </div>\n        </>\n      ) : (\n        <ChatLandingScreen showLandingScreenPhoto={showLandingScreenPhoto} />\n      )}\n    </div>\n  );\n}\n\nexport default Chat;\n","import React, { useEffect, useState } from \"react\";\nimport { useStateValue } from \"./StateProvider\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\n//importing firebase\nimport db from \"./firebase\";\nimport { auth, firebase } from \"./firebase\";\n//importing actions\nimport { setUser } from \"./actions/userAction\";\n//importing components\nimport Login from \"./Login\";\nimport Sidebar from \"../src/Sidebar/Sidebar\";\nimport Chat from \"../src/Chat/Chat\";\nimport { ToastContainer } from \"react-toastify\";\nimport { toastInfo } from \"./shared/toastInfo\";\n//importing material-ui\nimport Hidden from \"@material-ui/core/Hidden\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\n//importing styles\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"./App.css\";\n\nfunction App() {\n  const [{ user }, dispatch] = useStateValue();\n  const [rooms, setRooms] = useState([]);\n  const [isRoomExist, setIsRoomExist] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged((authUser) => {\n      if (authUser) {\n        dispatch(setUser(authUser));\n        setLoading(true);\n\n        db.collection(\"rooms\")\n          .orderBy(\"timestamp\", \"desc\")\n          .onSnapshot((snapshot) =>\n            setRooms(\n              snapshot.docs.map((doc) => ({\n                id: doc.id,\n                data: doc.data(),\n              }))\n            )\n          );\n\n        if (authUser.isAnonymous === true && authUser.displayName === null) {\n          var anonymousName =\n            // eslint-disable-next-line no-useless-concat\n            \"Anonymous\" + \" \" + Math.floor(Math.random() * 1000000);\n\n          auth.currentUser.updateProfile({\n            displayName: anonymousName,\n            photoURL: \"\",\n          });\n\n          db.collection(\"users\")\n            .doc(authUser.uid)\n            .set({\n              name: anonymousName,\n              about: \"Hey there! I am using Tattle.\",\n              photoURL: \"https://avatars.dicebear.com/api/human/ugtjh.svg\",\n              role: \"anonymous\",\n              dateJoined: firebase.firestore.FieldValue.serverTimestamp(),\n            })\n            .then(function () {\n              console.log(\"Document successfully updated!\");\n            })\n            .catch(function (error) {\n              // The document probably doesn't exist.\n              console.error(\"Error updating document: \", error);\n            });\n        }\n\n        if (\n          authUser.uid &&\n          authUser.isAnonymous === false &&\n          authUser.photoURL !== null\n        ) {\n          const errorAbout = \"errorAbout\";\n          db.collection(\"users\")\n            .doc(authUser.uid)\n            .get()\n            .then(function (doc) {\n              if (doc.exists) {\n                // console.log(\"USER EXIST\");\n              } else {\n                db.collection(\"users\").doc(authUser.uid).set({\n                  name: authUser.displayName,\n                  about: \"Hey there! I am using Tattle.\",\n                  photoURL: user.photoURL,\n                  role: \"regular\",\n                  dateJoined: firebase.firestore.FieldValue.serverTimestamp(),\n                });\n              }\n            })\n            .catch(function (error) {\n              toastInfo(`${error}`, errorAbout, \"top-center\");\n            });\n        } else if (\n          authUser.uid &&\n          authUser.isAnonymous === false &&\n          authUser.photoURL === null\n        ) {\n          const errorAbout = \"errorAbout\";\n          db.collection(\"users\")\n            .doc(authUser.uid)\n            .get()\n            .then(function (doc) {\n              if (doc.exists) {\n                console.log(\"USER EXIST\");\n              } else {\n                db.collection(\"users\").doc(authUser.uid).set({\n                  name: authUser.displayName,\n                  about: \"Hey there! I am using Tattle.\",\n                  photoURL: \"\",\n                  role: \"regular\",\n                  dateJoined: firebase.firestore.FieldValue.serverTimestamp(),\n                });\n              }\n            })\n            .catch(function (error) {\n              toastInfo(`${error}`, errorAbout, \"top-center\");\n            });\n        }\n      } else {\n        dispatch(setUser(null));\n        setLoading(true);\n      }\n    });\n\n    return () => {\n      unsubscribe();\n    };\n  }, [dispatch, user]);\n\n  return (\n    <div className={`app ${loading === false && \"app-no-bg\"}`}>\n      {loading ? (\n      <>\n          <ToastContainer\n            position=\"top-center\"\n            autoClose={5000}\n            newestOnTop={false}\n            closeOnClick\n            rtl={false}\n            pauseOnFocusLoss\n            draggable\n          />\n          {!user ? (\n            <Login />\n          ) : (\n            <div className=\"app__body\">\n              <Router>\n                <Switch>\n                  <Route exact path=\"/\">\n                    <Sidebar\n                      rooms={rooms}\n                      setIsRoomExist={setIsRoomExist}\n                      isRoomExist={isRoomExist}\n                    />\n                    <Hidden only={[\"xs\"]}>\n                      {\" \"}\n                      {/* Chat component will be hidden in mobile view */}\n                      <Chat isRoomExist={isRoomExist} />\n                    </Hidden>\n                  </Route>\n\n                  <Route exact path=\"/rooms/:roomId\">\n                    <Hidden only={[\"xs\"]}>\n                      {\" \"}\n                      {/* Sidebar component will be hidden in mobile view */}\n                      <Sidebar\n                        rooms={rooms}\n                        setIsRoomExist={setIsRoomExist}\n                        isRoomExist={isRoomExist}\n                      />\n                    </Hidden>\n                    <Chat isRoomExist={isRoomExist} />\n                  </Route>\n\n                  <Route path=\"*\">\n                    <Redirect to=\"/\" />\n                  </Route>\n                </Switch>\n              </Router>\n            </div>\n          )}\n        </>\n      ) : (\n        <div className=\"app__loading\">\n          <div>\n            <div className=\"app__loading_circular\">\n              <CircularProgress />\n            </div>\n            <div className=\"app__loading_linear\">\n              <LinearProgress />\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","export const initialState = {\n    user: null,\n}\n\nexport const actionTypes = {\n    SET_USER: \"SET_USER\",\n}\n\nconst reducer = (state, action) => {\n\n    switch (action.type) {\n        case actionTypes.SET_USER:\n            return {\n                ...state,\n                user: action.user,\n            };\n\n        default:\n            return state;\n    }\n}\n\nexport default reducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport { StateProvider } from './StateProvider';\nimport reducer, { initialState } from './reducer';\n\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider initialState={initialState} reducer={reducer} >\n      <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.register();\n"],"sourceRoot":""}