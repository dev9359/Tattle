(this.webpackJsonptattle=this.webpackJsonptattle||[]).push([[19],{103:function(e,t,a){"use strict";var n=a(3),r=a(8),o=a(2),c=(a(5),a(22)),l=a(28),i=a(18),s=o.forwardRef((function(e,t){var a=e.children,l=e.classes,s=e.className,u=e.color,d=void 0===u?"inherit":u,m=e.component,f=void 0===m?"svg":m,h=e.fontSize,p=void 0===h?"default":h,b=e.htmlColor,v=e.titleAccess,g=e.viewBox,y=void 0===g?"0 0 24 24":g,O=Object(r.a)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return o.createElement(f,Object(n.a)({className:Object(c.a)(l.root,s,"inherit"!==d&&l["color".concat(Object(i.a)(d))],"default"!==p&&l["fontSize".concat(Object(i.a)(p))]),focusable:"false",viewBox:y,color:b,"aria-hidden":!v||void 0,role:v?"img":void 0,ref:t},O),a,v?o.createElement("title",null,v):null)}));s.muiName="SvgIcon",t.a=Object(l.a)((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(s)},105:function(e,t,a){"use strict";a.r(t);var n=a(103);a.d(t,"default",(function(){return n.a}))},107:function(e,t){function a(){return e.exports=a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},a.apply(this,arguments)}e.exports=a},144:function(e,t,a){"use strict";var n=a(3),r=a(8),o=a(2),c=(a(5),a(22)),l=a(28),i=a(27),s=a(482),u=a(18),d=o.forwardRef((function(e,t){var a=e.edge,l=void 0!==a&&a,i=e.children,d=e.classes,m=e.className,f=e.color,h=void 0===f?"default":f,p=e.disabled,b=void 0!==p&&p,v=e.disableFocusRipple,g=void 0!==v&&v,y=e.size,O=void 0===y?"medium":y,j=Object(r.a)(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return o.createElement(s.a,Object(n.a)({className:Object(c.a)(d.root,m,"default"!==h&&d["color".concat(Object(u.a)(h))],b&&d.disabled,"small"===O&&d["size".concat(Object(u.a)(O))],{start:d.edgeStart,end:d.edgeEnd}[l]),centerRipple:!0,focusRipple:!g,disabled:b,ref:t},j),o.createElement("span",{className:d.label},i))}));t.a=Object(l.a)((function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:Object(i.b)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(i.b)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(i.b)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(d)},145:function(e,t,a){"use strict";var n=a(96);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(2)),o=(0,n(a(98)).default)(r.default.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");t.default=o},173:function(e,t,a){"use strict";var n=a(96);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(2)),o=(0,n(a(98)).default)(r.default.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"SearchOutlined");t.default=o},181:function(e,t,a){"use strict";var n=a(3),r=a(8),o=a(2),c=a.n(o),l=(a(5),a(22)),i=a(28),s=a(103);var u=function(e,t){var a=function(t,a){return c.a.createElement(s.a,Object(n.a)({ref:a},t),e)};return a.muiName=s.a.muiName,c.a.memo(c.a.forwardRef(a))}(o.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));var d=o.forwardRef((function(e,t){var a=e.alt,c=e.children,i=e.classes,s=e.className,d=e.component,m=void 0===d?"div":d,f=e.imgProps,h=e.sizes,p=e.src,b=e.srcSet,v=e.variant,g=void 0===v?"circle":v,y=Object(r.a)(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),O=null,j=function(e){var t=e.src,a=e.srcSet,n=o.useState(!1),r=n[0],c=n[1];return o.useEffect((function(){if(t||a){c(!1);var e=!0,n=new Image;return n.src=t,n.srcSet=a,n.onload=function(){e&&c("loaded")},n.onerror=function(){e&&c("error")},function(){e=!1}}}),[t,a]),r}({src:p,srcSet:b}),S=p||b,E=S&&"error"!==j;return O=E?o.createElement("img",Object(n.a)({alt:a,src:p,srcSet:b,sizes:h,className:i.img},f)):null!=c?c:S&&a?a[0]:o.createElement(u,{className:i.fallback}),o.createElement(m,Object(n.a)({className:Object(l.a)(i.root,i.system,i[g],s,!E&&i.colorDefault),ref:t},y),O)}));t.a=Object(i.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(d)},184:function(e,t,a){"use strict";var n=a(96);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(2)),o=(0,n(a(98)).default)(r.default.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");t.default=o},412:function(e,t,a){"use strict";a.r(t);var n=a(26),r=a(2),o=a.n(r),c=a(50),l=a(35),i=a(42),s=a(95),u=a(181),d=a(144),m=a(173),f=a.n(m),h=a(145),p=a.n(h),b=a(184),v=a.n(b),g=(a(413),o.a.lazy((function(){return Promise.all([a.e(0),a.e(4),a.e(26)]).then(a.bind(null,142))}))),y=o.a.lazy((function(){return Promise.all([a.e(0),a.e(2),a.e(6),a.e(13)]).then(a.bind(null,455))})),O=o.a.lazy((function(){return Promise.all([a.e(0),a.e(6),a.e(23)]).then(a.bind(null,457))})),j=o.a.lazy((function(){return Promise.all([a.e(3),a.e(35)]).then(a.bind(null,180))}));t.default=function(e){var t=e.roomCreatedBy,a=e.roomOwner,m=e.roomName,h=e.roomId,b=(e._roomId,e.messages),S=e.db,E=e.history,z=e.isRoomExist,w=Object(l.b)(),R=Object(n.a)(w,1)[0].user,k=Object(r.useState)(!1),C=Object(n.a)(k,2),M=C[0],N=C[1],x=Object(r.useState)(!1),_=Object(n.a)(x,2),I=_[0],P=_[1],L=Object(r.useState)(null),D=Object(n.a)(L,2),A=D[0],T=D[1],B=Object(r.useState)(""),F=Object(n.a)(B,2),H=F[0],$=F[1],J=Object(r.useState)(!1),q=Object(n.a)(J,2),U=q[0],V=q[1],Y=Object(r.useState)(!1),G=Object(n.a)(Y,2),K=G[0],Q=G[1];Object(r.useEffect)((function(){var e;R.uid&&S.collection("users").doc(R.uid).get().then((function(e){e.exists&&$(e.data().role)})).catch((function(e){Object(i.a)("".concat(e),"errorAbout","top-center")})),(null===(e=b[b.length-1])||void 0===e?void 0:e.timestamp)?V(!0):V(!1),b[b.length-1]?Q(!0):Q(!1),z>=0&&(P(!1),N(!1))}),[R.uid,R.displayName,R.isAnonymous,S,b,h,z]);var W=function(e){T(e.currentTarget)},X=[{title:"Contact info",onClick:function(){return P(!0),void T(null)},id:1e5*Math.random()},{title:"Select messages",onClick:function(){Object(i.a)("Select Messages is not yet  available!","selectMessages","top-center")},id:1e5*Math.random()},{title:"Mute notifications",onClick:function(){Object(i.a)("Mute Notifications is not yet available!","muteNotifications","top-center")},id:1e5*Math.random()},{title:"Clear messages",onClick:function(){Object(i.a)("Clear Messages is not yet available!","clearMessages","top-center")},id:1e5*Math.random()},{title:"Delete Room",onClick:function(){return function(){var e="roomDeleted";a===R.uid||"admin"===H?(S.collection("rooms").doc(h).delete().then((function(){Object(i.a)("Room successfully deleted!",e,"top-center")})).catch((function(t){Object(i.a)("Error removing room! ".concat(t),e,"top-center")})),E.push("/")):Object(i.a)("You are not allowed to delete room ".concat(m,". Only the admin or room owner ").concat(t),e,"top-center")}()},id:1e5*Math.random()}];return o.a.createElement(o.a.Suspense,{fallback:o.a.createElement("p",null,"Loading")},o.a.createElement("div",{className:"chat__header"},o.a.createElement(y,{drawerRightSearch:M,setDrawerRightSearch:N,roomId:h,messages:b,db:S,user:R}),o.a.createElement(O,{drawerRightInfo:I,setDrawerRightInfo:P,roomId:h,messages:b,db:S,user:R}),o.a.createElement(s.a,{smUp:!0},o.a.createElement(c.b,{to:"/"},o.a.createElement("div",{className:"chat__back_button"},o.a.createElement(d.a,null,o.a.createElement(p.a,{style:{color:"#de5751"}}))))),o.a.createElement(u.a,null,m[0]),o.a.createElement("div",{className:"chat__headerInfo"},o.a.createElement("h3",null,m),K?o.a.createElement(o.a.Fragment,null,U?o.a.createElement("p",null,"Last seen ",function(){var e,t;return new Date(null===(e=b[b.length-1])||void 0===e||null===(t=e.timestamp)||void 0===t?void 0:t.toDate()).toLocaleTimeString([],{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",hour12:!0,minute:"numeric"})}()):o.a.createElement("p",null,"Last seen ",(new Date).toLocaleTimeString([],{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",hour12:!0,minute:"numeric"}))):null),o.a.createElement("div",{className:"chat__headerRight"},o.a.createElement(j,{name:"Search",icon:o.a.createElement(f.a,{style:{color:"#de5751"}}),onClick:function(){N(!0)}}),o.a.createElement(j,{name:"Menu",icon:o.a.createElement(v.a,{style:{color:"#de5751"}}),onClick:W}),o.a.createElement(g,{menuLists:X,menu:A,handleMenuOpen:W,handleMenuClose:function(){T(null)}}))))}},413:function(e,t,a){},96:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},98:function(e,t,a){"use strict";var n=a(96);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=o.default.memo(o.default.forwardRef((function(t,a){return o.default.createElement(c.default,(0,r.default)({ref:a},t),e)})));0;return a.muiName=c.default.muiName,a};var r=n(a(107)),o=n(a(2)),c=n(a(105))}}]);
//# sourceMappingURL=19.4b24b95e.chunk.js.map