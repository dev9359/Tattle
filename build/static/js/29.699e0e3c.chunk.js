(this.webpackJsonptattle=this.webpackJsonptattle||[]).push([[29],{298:function(e,t,a){},474:function(e,t,a){"use strict";a.r(t);var n=a(26),o=a(2),c=a.n(o),l=a(35),r=a(10),s=a(14),i=a(92),m=(a(55),a(298),c.a.lazy((function(){return Promise.all([a.e(1),a.e(19)]).then(a.bind(null,412))}))),u=c.a.lazy((function(){return Promise.all([a.e(2),a.e(5),a.e(14)]).then(a.bind(null,414))})),d=c.a.lazy((function(){return Promise.all([a.e(1),a.e(2),a.e(3),a.e(7),a.e(12)]).then(a.bind(null,461))})),b=c.a.lazy((function(){return a.e(18).then(a.bind(null,449))}));t.default=function(e){var t=e.isRoomExist,a=Object(r.g)(),O=Object(l.b)(),j=Object(n.a)(O,1)[0].user,E=Object(r.h)().roomId,h=Object(o.useState)(""),v=Object(n.a)(h,2),f=v[0],p=v[1],y=Object(o.useState)(""),S=Object(n.a)(y,2),g=S[0],w=S[1],_=Object(o.useState)(""),I=Object(n.a)(_,2),N=I[0],z=I[1],B=Object(o.useState)(""),P=Object(n.a)(B,2),k=P[0],x=P[1],R=Object(o.useState)([]),C=Object(n.a)(R,2),J=C[0],L=C[1],F=Object(o.useState)(!1),q=Object(n.a)(F,2),A=q[0],D=q[1],G=Object(o.useState)(!1),H=Object(n.a)(G,2),K=H[0],M=H[1];return Object(o.useEffect)((function(){E?(s.b.collection("rooms").doc(E).onSnapshot((function(e){var t,a,n,o;w(null===(t=e.data())||void 0===t?void 0:t.name),z(null===(a=e.data())||void 0===a?void 0:a.createdBy),x(null===(n=e.data())||void 0===n?void 0:n.roomOwner),p(null===(o=e.data())||void 0===o?void 0:o.id)})),s.b.collection("rooms").doc(E).collection("messages").orderBy("timestamp","asc").onSnapshot((function(e){L(e.docs.map((function(e){return e.data()}))),D(!0)})),M(!1)):(M(!0),a.push("/"))}),[E,a]),c.a.createElement(c.a.Suspense,{fallback:c.a.createElement("p",null,"Loading")},c.a.createElement("div",{className:"chat"},E?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement(m,{roomCreatedBy:N,roomOwner:k,roomName:g,roomId:E,_roomId:f,messages:J,db:s.b,history:a,isRoomExist:t})),c.a.createElement("div",{className:"chat__body"},A?c.a.createElement(u,{roomCreatedBy:N,roomOwner:k,roomId:E,messages:J,user:j,isRoomExist:t}):c.a.createElement("div",{className:"chat__body_loading"},c.a.createElement("div",null,c.a.createElement(i.a,null)))),c.a.createElement("div",null,c.a.createElement(d,{roomName:g,roomId:E,db:s.b,firebase:s.c,storage:s.e}))):c.a.createElement(b,{showLandingScreenPhoto:K})))}}}]);
//# sourceMappingURL=29.699e0e3c.chunk.js.map